# çŸ©é˜µç½®é›¶é—®é¢˜ ğŸ”¢

## ğŸ¯ é¢˜ç›®æè¿°
ç»™å®šä¸€ä¸ª m x n çš„çŸ©é˜µï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ ä¸º 0ï¼Œåˆ™å°†å…¶æ‰€åœ¨è¡Œå’Œåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½è®¾ä¸º 0ã€‚è¯·ä½¿ç”¨**åŸåœ°ç®—æ³•**ã€‚

**è¦æ±‚**ï¼š
- ä½¿ç”¨åŸåœ°ç®—æ³•ï¼Œå³ä¸ä½¿ç”¨é¢å¤–çš„çŸ©é˜µç©ºé—´
- å°½é‡å‡å°‘é¢å¤–ç©ºé—´çš„ä½¿ç”¨
- æ—¶é—´å¤æ‚åº¦å°½å¯èƒ½ä¼˜åŒ–

**ç¤ºä¾‹**ï¼š
```javascript
// ç¤ºä¾‹ 1
è¾“å…¥:
[
  [1,1,1],
  [1,0,1],
  [1,1,1]
]
è¾“å‡º:
[
  [1,0,1],
  [0,0,0],
  [1,0,1]
]

// ç¤ºä¾‹ 2
è¾“å…¥:
[
  [0,1,2,0],
  [3,4,5,2],
  [1,3,1,5]
]
è¾“å‡º:
[
  [0,0,0,0],
  [0,4,5,0],
  [0,3,1,0]
]
```

## ğŸ’¡ æˆ‘çš„åŸå§‹æ–¹æ³•

### æ€è·¯åˆ†æ
æˆ‘æœ€åˆçš„æƒ³æ³•æ˜¯ï¼š
1. åˆ›å»ºä¸¤ä¸ªæ•°ç»„åˆ†åˆ«è®°å½•éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—
2. éå†çŸ©é˜µï¼Œæ‰¾åˆ°å€¼ä¸º0çš„å…ƒç´ ï¼Œè®°å½•å…¶è¡Œå’Œåˆ—
3. æ ¹æ®è®°å½•çš„è¡Œå’Œåˆ—ï¼Œå°†å¯¹åº”çš„æ•´è¡Œå’Œæ•´åˆ—ç½®é›¶

### ä»£ç å®ç°
```javascript
function setZeroes(matrix) {
    if (!matrix || matrix.length === 0 || matrix[0].length === 0) {
        return;
    }

    const m = matrix.length;
    const n = matrix[0].length;
    const zeroRows = [];
    const zeroCols = [];

    // ç¬¬ä¸€æ¬¡éå†ï¼šæ‰¾å‡ºæ‰€æœ‰ä¸º0çš„å…ƒç´ ä½ç½®
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (matrix[i][j] === 0) {
                zeroRows.push(i);
                zeroCols.push(j);
            }
        }
    }

    // ç¬¬äºŒæ¬¡éå†ï¼šå°†å¯¹åº”è¡Œç½®é›¶
    for (let i = 0; i < zeroRows.length; i++) {
        const row = zeroRows[i];
        for (let j = 0; j < n; j++) {
            matrix[row][j] = 0;
        }
    }

    // ç¬¬ä¸‰æ¬¡éå†ï¼šå°†å¯¹åº”åˆ—ç½®é›¶
    for (let i = 0; i < zeroCols.length; i++) {
        const col = zeroCols[i];
        for (let j = 0; j < m; j++) {
            matrix[j][col] = 0;
        }
    }

    return matrix;
}

// æµ‹è¯•
const matrix1 = [
  [1,1,1],
  [1,0,1],
  [1,1,1]
];
console.log(setZeroes(matrix1));
```

### å­˜åœ¨çš„é—®é¢˜
- âŒ ä½¿ç”¨äº†é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼ˆzeroRowså’ŒzeroColsï¼‰
- âŒ å¯èƒ½å­˜åœ¨é‡å¤è®°å½•åŒä¸€è¡Œæˆ–åˆ—
- âŒ æ²¡æœ‰ä½¿ç”¨æœ€ä¼˜çš„ç©ºé—´å¤æ‚åº¦è§£æ³•
- âŒ å¤šæ¬¡éå†çŸ©é˜µï¼Œæ•ˆç‡ä¸å¤Ÿé«˜

## ğŸ”§ æ”¹è¿›ç‰ˆæœ¬

### ä¼˜åŒ–æ€è·¯
1. ä½¿ç”¨Setæ•°æ®ç»“æ„é¿å…é‡å¤è®°å½•è¡Œå’Œåˆ—
2. ä¼˜åŒ–éå†è¿‡ç¨‹ï¼Œå‡å°‘ä¸å¿…è¦çš„æ“ä½œ
3. æ·»åŠ è¾“å…¥éªŒè¯å’Œè¾¹ç•Œæ¡ä»¶å¤„ç†
4. å¢åŠ è¯¦ç»†æ³¨é‡Šå’Œæµ‹è¯•ç”¨ä¾‹

### æ”¹è¿›ä»£ç 
```javascript
/**
 * çŸ©é˜µç½®é›¶ç®—æ³•ï¼ˆæ”¹è¿›ç‰ˆï¼‰
 *
 * æ ¸å¿ƒæ€æƒ³ï¼š
 * 1. ä½¿ç”¨Setè®°å½•éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—ï¼Œé¿å…é‡å¤
 * 2. ä¸¤æ¬¡éå†å®Œæˆï¼šç¬¬ä¸€æ¬¡æ ‡è®°ï¼Œç¬¬äºŒæ¬¡ç½®é›¶
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {void} åŸåœ°ä¿®æ”¹çŸ©é˜µ
 * @time O(m*n) å…¶ä¸­må’Œnæ˜¯çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°
 * @space O(m+n) éœ€è¦è®°å½•å“ªäº›è¡Œå’Œåˆ—éœ€è¦ç½®é›¶
 */
function setZeroesImproved(matrix) {
    // è¾“å…¥éªŒè¯
    if (!matrix || !Array.isArray(matrix) || matrix.length === 0 || !Array.isArray(matrix[0])) {
        return;
    }

    const m = matrix.length;
    const n = matrix[0].length;

    console.log(`å¤„ç† ${m}x${n} çŸ©é˜µ`);

    // ä½¿ç”¨Seté¿å…é‡å¤è®°å½•
    const zeroRows = new Set();
    const zeroCols = new Set();

    // ç¬¬ä¸€æ¬¡éå†ï¼šæ ‡è®°éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (matrix[i][j] === 0) {
                zeroRows.add(i);
                zeroCols.add(j);
                console.log(`å‘ç°é›¶å…ƒç´ ï¼š(${i}, ${j})`);
            }
        }
    }

    console.log(`éœ€è¦ç½®é›¶çš„è¡Œ: ${[...zeroRows].join(', ')}`);
    console.log(`éœ€è¦ç½®é›¶çš„åˆ—: ${[...zeroCols].join(', ')}`);

    // ç¬¬äºŒæ¬¡éå†ï¼šç½®é›¶æ“ä½œ
    // å¤„ç†è¡Œ
    for (const row of zeroRows) {
        for (let j = 0; j < n; j++) {
            matrix[row][j] = 0;
        }
    }

    // å¤„ç†åˆ—
    for (const col of zeroCols) {
        for (let i = 0; i < m; i++) {
            matrix[i][col] = 0;
        }
    }

    console.log("çŸ©é˜µç½®é›¶å®Œæˆ");
    return matrix;
}

// å®Œæ•´æµ‹è¯•å‡½æ•°
function testSetZeroes() {
    const testCases = [
        {
            input: [
                [1,1,1],
                [1,0,1],
                [1,1,1]
            ],
            expected: [
                [1,0,1],
                [0,0,0],
                [1,0,1]
            ],
            description: "3x3çŸ©é˜µï¼Œä¸­å¿ƒå…ƒç´ ä¸º0"
        },
        {
            input: [
                [0,1,2,0],
                [3,4,5,2],
                [1,3,1,5]
            ],
            expected: [
                [0,0,0,0],
                [0,4,5,0],
                [0,3,1,0]
            ],
            description: "3x4çŸ©é˜µï¼Œç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ª0"
        },
        {
            input: [
                [1,2,3],
                [4,5,6],
                [7,8,9]
            ],
            expected: [
                [1,2,3],
                [4,5,6],
                [7,8,9]
            ],
            description: "æ²¡æœ‰0çš„çŸ©é˜µ"
        },
        {
            input: [
                [0,0],
                [0,0]
            ],
            expected: [
                [0,0],
                [0,0]
            ],
            description: "å…¨0çŸ©é˜µ"
        },
        {
            input: [[1]],
            expected: [[1]],
            description: "1x1çŸ©é˜µï¼Œå…ƒç´ ä¸º1"
        },
        {
            input: [[0]],
            expected: [[0]],
            description: "1x1çŸ©é˜µï¼Œå…ƒç´ ä¸º0"
        },
        {
            input: [],
            expected: [],
            description: "ç©ºçŸ©é˜µ"
        }
    ];

    testCases.forEach((testCase, index) => {
        console.log(`\n=== æµ‹è¯•ç”¨ä¾‹ ${index + 1}: ${testCase.description} ===`);

        // æ·±æ‹·è´è¾“å…¥çŸ©é˜µï¼Œé¿å…ä¿®æ”¹åŸå§‹æµ‹è¯•æ•°æ®
        const matrix = JSON.parse(JSON.stringify(testCase.input));

        console.log("è¾“å…¥çŸ©é˜µ:");
        printMatrix(matrix);

        const startTime = performance.now();
        setZeroesImproved(matrix);
        const endTime = performance.now();

        console.log("è¾“å‡ºçŸ©é˜µ:");
        printMatrix(matrix);

        console.log("æœŸæœ›çŸ©é˜µ:");
        printMatrix(testCase.expected);

        const isCorrect = compareMatrices(matrix, testCase.expected);
        console.log(`ç»“æœ: ${isCorrect ? 'âœ… æ­£ç¡®' : 'âŒ é”™è¯¯'}`);
        console.log(`æ‰§è¡Œæ—¶é—´: ${(endTime - startTime).toFixed(3)}ms`);
    });
}

// è¾…åŠ©å‡½æ•°ï¼šæ‰“å°çŸ©é˜µ
function printMatrix(matrix) {
    if (!matrix || matrix.length === 0) {
        console.log("[]");
        return;
    }

    console.log("[");
    for (let i = 0; i < matrix.length; i++) {
        console.log(`  [${matrix[i].join(', ')}]${i < matrix.length - 1 ? ',' : ''}`);
    }
    console.log("]");
}

// è¾…åŠ©å‡½æ•°ï¼šæ¯”è¾ƒä¸¤ä¸ªçŸ©é˜µæ˜¯å¦ç›¸ç­‰
function compareMatrices(matrix1, matrix2) {
    if (!matrix1 && !matrix2) return true;
    if (!matrix1 || !matrix2) return false;
    if (matrix1.length !== matrix2.length) return false;

    for (let i = 0; i < matrix1.length; i++) {
        if (!matrix1[i] && !matrix2[i]) continue;
        if (!matrix1[i] || !matrix2[i]) return false;
        if (matrix1[i].length !== matrix2[i].length) return false;

        for (let j = 0; j < matrix1[i].length; j++) {
            if (matrix1[i][j] !== matrix2[i][j]) return false;
        }
    }

    return true;
}

testSetZeroes();
```

### æ”¹è¿›äº®ç‚¹
- âœ… ä½¿ç”¨Setæ•°æ®ç»“æ„é¿å…é‡å¤è®°å½•
- âœ… ä»£ç ç»“æ„æ›´æ¸…æ™°ï¼Œæ·»åŠ äº†è¯¦ç»†æ³¨é‡Š
- âœ… å¢åŠ äº†å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹å’Œè¾…åŠ©å‡½æ•°
- âœ… æ·»åŠ äº†è¾“å…¥éªŒè¯å’Œè¾¹ç•Œæ¡ä»¶å¤„ç†
- âœ… ç©ºé—´å¤æ‚åº¦ä»ä¸ºO(m+n)ï¼Œä½†æ›´åŠ ä¼˜åŒ–

## ğŸŒŸ æ¨èçš„æœ€ä½³æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ ‡è®°æ•°ç»„ï¼ˆé¢è¯•å¸¸ç”¨ï¼‰
```javascript
/**
 * çŸ©é˜µç½®é›¶ - ä½¿ç”¨æ ‡è®°æ•°ç»„
 *
 * ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„è®°å½•éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {void} åŸåœ°ä¿®æ”¹çŸ©é˜µ
 * @time O(m*n)
 * @space O(m+n)
 */
function setZeroes(matrix) {
    if (!matrix || matrix.length === 0) return;

    const m = matrix.length;
    const n = matrix[0].length;
    const rows = new Array(m).fill(false);
    const cols = new Array(n).fill(false);

    // æ ‡è®°éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (matrix[i][j] === 0) {
                rows[i] = true;
                cols[j] = true;
            }
        }
    }

    // ç½®é›¶
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (rows[i] || cols[j]) {
                matrix[i][j] = 0;
            }
        }
    }
}
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨çŸ©é˜µé¦–è¡Œå’Œé¦–åˆ—ä½œä¸ºæ ‡è®°ï¼ˆO(1)ç©ºé—´ï¼‰
```javascript
/**
 * çŸ©é˜µç½®é›¶ - å¸¸æ•°ç©ºé—´è§£æ³•
 *
 * ä½¿ç”¨çŸ©é˜µçš„ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä½œä¸ºæ ‡è®°æ•°ç»„
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {void} åŸåœ°ä¿®æ”¹çŸ©é˜µ
 * @time O(m*n)
 * @space O(1)
 */
function setZeroesConstantSpace(matrix) {
    if (!matrix || matrix.length === 0) return;

    const m = matrix.length;
    const n = matrix[0].length;
    let firstRowHasZero = false;
    let firstColHasZero = false;

    // æ£€æŸ¥ç¬¬ä¸€è¡Œæ˜¯å¦æœ‰é›¶
    for (let j = 0; j < n; j++) {
        if (matrix[0][j] === 0) {
            firstRowHasZero = true;
            break;
        }
    }

    // æ£€æŸ¥ç¬¬ä¸€åˆ—æ˜¯å¦æœ‰é›¶
    for (let i = 0; i < m; i++) {
        if (matrix[i][0] === 0) {
            firstColHasZero = true;
            break;
        }
    }

    // ä½¿ç”¨ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä½œä¸ºæ ‡è®°
    for (let i = 1; i < m; i++) {
        for (let j = 1; j < n; j++) {
            if (matrix[i][j] === 0) {
                matrix[i][0] = 0; // æ ‡è®°è¯¥è¡Œéœ€è¦ç½®é›¶
                matrix[0][j] = 0; // æ ‡è®°è¯¥åˆ—éœ€è¦ç½®é›¶
            }
        }
    }

    // æ ¹æ®ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—çš„æ ‡è®°ï¼Œå°†å¯¹åº”çš„è¡Œå’Œåˆ—ç½®é›¶
    for (let i = 1; i < m; i++) {
        for (let j = 1; j < n; j++) {
            if (matrix[i][0] === 0 || matrix[0][j] === 0) {
                matrix[i][j] = 0;
            }
        }
    }

    // å¦‚æœç¬¬ä¸€è¡ŒåŸæœ¬æœ‰é›¶ï¼Œå°†ç¬¬ä¸€è¡Œå…¨ç½®é›¶
    if (firstRowHasZero) {
        for (let j = 0; j < n; j++) {
            matrix[0][j] = 0;
        }
    }

    // å¦‚æœç¬¬ä¸€åˆ—åŸæœ¬æœ‰é›¶ï¼Œå°†ç¬¬ä¸€åˆ—å…¨ç½®é›¶
    if (firstColHasZero) {
        for (let i = 0; i < m; i++) {
            matrix[i][0] = 0;
        }
    }
}
```

### æ–¹æ³•ä¸‰ï¼šå•å˜é‡æ ‡è®°æ³•ï¼ˆæ›´ç®€æ´çš„O(1)ç©ºé—´è§£æ³•ï¼‰
```javascript
/**
 * çŸ©é˜µç½®é›¶ - å•å˜é‡æ ‡è®°æ³•
 *
 * ä½¿ç”¨ç¬¬ä¸€è¡Œä½œä¸ºåˆ—æ ‡è®°ï¼Œç¬¬ä¸€åˆ—ä½œä¸ºè¡Œæ ‡è®°ï¼Œ
 * åªéœ€è¦ä¸€ä¸ªé¢å¤–å˜é‡è®°å½•ç¬¬ä¸€åˆ—çŠ¶æ€
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {void} åŸåœ°ä¿®æ”¹çŸ©é˜µ
 * @time O(m*n)
 * @space O(1)
 */
function setZeroesOneVariable(matrix) {
    if (!matrix || matrix.length === 0) return;

    const m = matrix.length;
    const n = matrix[0].length;
    let firstColHasZero = false;

    // ç¬¬ä¸€æ¬¡éå†ï¼šæ ‡è®°
    for (let i = 0; i < m; i++) {
        // æ£€æŸ¥ç¬¬ä¸€åˆ—æ˜¯å¦æœ‰é›¶
        if (matrix[i][0] === 0) {
            firstColHasZero = true;
        }

        // ä»ç¬¬äºŒåˆ—å¼€å§‹ï¼Œä½¿ç”¨ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä½œä¸ºæ ‡è®°
        for (let j = 1; j < n; j++) {
            if (matrix[i][j] === 0) {
                matrix[i][0] = 0; // æ ‡è®°è¡Œ
                matrix[0][j] = 0; // æ ‡è®°åˆ—
            }
        }
    }

    // ç¬¬äºŒæ¬¡éå†ï¼šç½®é›¶ï¼ˆä»åå‘å‰ï¼‰
    for (let i = m - 1; i >= 0; i--) {
        for (let j = n - 1; j >= 1; j--) {
            if (matrix[i][0] === 0 || matrix[0][j] === 0) {
                matrix[i][j] = 0;
            }
        }
        // å¤„ç†ç¬¬ä¸€åˆ—
        if (firstColHasZero) {
            matrix[i][0] = 0;
        }
    }
}
```

### æ–¹æ³•å››ï¼šä½æ“ä½œä¼˜åŒ–ï¼ˆé€‚ç”¨äºç‰¹å®šåœºæ™¯ï¼‰
```javascript
/**
 * çŸ©é˜µç½®é›¶ - ä½æ“ä½œä¼˜åŒ–
 *
 * å½“çŸ©é˜µå…ƒç´ ä¸ºæ•´æ•°ä¸”è¡Œåˆ—æ•°è¾ƒå°æ—¶ï¼Œ
 * å¯ä»¥ä½¿ç”¨ä½æ“ä½œè®°å½•éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {void} åŸåœ°ä¿®æ”¹çŸ©é˜µ
 * @time O(m*n)
 * @space O(1) ä»…ä½¿ç”¨ä¸¤ä¸ª32ä½æ•´æ•°
 * @note ä»…é€‚ç”¨äºè¡Œåˆ—æ•°ä¸è¶…è¿‡32çš„çŸ©é˜µ
 */
function setZeroesBitwise(matrix) {
    if (!matrix || matrix.length === 0) return;

    const m = matrix.length;
    const n = matrix[0].length;

    // ç¡®ä¿è¡Œåˆ—æ•°ä¸è¶…è¿‡32
    if (m > 32 || n > 32) {
        console.warn("çŸ©é˜µå°ºå¯¸è¿‡å¤§ï¼Œä½æ“ä½œå¯èƒ½ä¸é€‚ç”¨");
        // å›é€€åˆ°æ ‡å‡†æ–¹æ³•
        setZeroes(matrix);
        return;
    }

    let rowBits = 0;
    let colBits = 0;

    // æ ‡è®°éœ€è¦ç½®é›¶çš„è¡Œå’Œåˆ—
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (matrix[i][j] === 0) {
                rowBits |= (1 << i); // è®¾ç½®è¡Œæ ‡è®°ä½
                colBits |= (1 << j); // è®¾ç½®åˆ—æ ‡è®°ä½
            }
        }
    }

    // ç½®é›¶
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if ((rowBits & (1 << i)) || (colBits & (1 << j))) {
                matrix[i][j] = 0;
            }
        }
    }
}
```

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------------|------------|------|------|----------|
| æˆ‘çš„åŸå§‹ç‰ˆæœ¬ | O(m*n) | O(m+n) | æ€è·¯ç®€å• | ç©ºé—´åˆ©ç”¨ä¸å¤Ÿä¼˜åŒ– | å­¦ä¹ ç†è§£ |
| æ ‡è®°æ•°ç»„æ³• | O(m*n) | O(m+n) | å®ç°ç®€å•ç›´è§‚ | éœ€è¦é¢å¤–ç©ºé—´ | é¢è¯•é¦–é€‰ |
| é¦–è¡Œé¦–åˆ—æ ‡è®°æ³• | O(m*n) | O(1) | å¸¸æ•°ç©ºé—´å¤æ‚åº¦ | é€»è¾‘ç¨å¤æ‚ | ç©ºé—´å—é™åœºæ™¯ |
| å•å˜é‡æ ‡è®°æ³• | O(m*n) | O(1) | ä»£ç æ›´ç®€æ´ | éœ€è¦ç†è§£æŠ€å·§ | ä¼˜åŒ–ç©ºé—´ |
| ä½æ“ä½œä¼˜åŒ–æ³• | O(m*n) | O(1) | é€‚ç”¨å°çŸ©é˜µ | æœ‰å°ºå¯¸é™åˆ¶ | ç‰¹å®šåœºæ™¯ |

## ğŸ“ çŸ¥è¯†ç‚¹æ€»ç»“

### æ ¸å¿ƒæ¦‚å¿µ
1. **åŸåœ°ç®—æ³•**ï¼šä¸ä½¿ç”¨é¢å¤–çŸ©é˜µç©ºé—´çš„ç®—æ³•
2. **æ ‡è®°æŠ€å·§**ï¼šä½¿ç”¨æ ‡è®°æ•°ç»„æˆ–çŸ©é˜µè‡ªèº«ä½œä¸ºæ ‡è®°
3. **ç©ºé—´ä¼˜åŒ–**ï¼šä»O(m+n)åˆ°O(1)çš„ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–
4. **ä½æ“ä½œåº”ç”¨**ï¼šä½¿ç”¨ä½æ“ä½œè®°å½•çŠ¶æ€

### å…³é”®æŠ€å·§
- **ä¸¤æ¬¡éå†æ³•**ï¼šç¬¬ä¸€æ¬¡æ ‡è®°ï¼Œç¬¬äºŒæ¬¡ç½®é›¶
- **åŸåœ°æ ‡è®°**ï¼šåˆ©ç”¨çŸ©é˜µè‡ªèº«ç©ºé—´ä½œä¸ºæ ‡è®°
- **ç‰¹æ®Šå€¼æ ‡è®°**ï¼šåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ç‰¹æ®Šå€¼ä½œä¸ºæ ‡è®°
- **è¾¹ç•Œå¤„ç†**ï¼šå¤„ç†é¦–è¡Œé¦–åˆ—çš„ç‰¹æ®Šæƒ…å†µ

### å®é™…åº”ç”¨
1. **å›¾åƒå¤„ç†**ï¼šç‰¹å®šåƒç´ å¤„ç†å’Œä¼ æ’­
2. **æ•°æ®æ¸…æ´—**ï¼šæ‰¹é‡æ•°æ®ä¿®æ­£
3. **æ¸¸æˆå¼€å‘**ï¼šåœ°å›¾å…ƒç´ å½±å“å‘¨å›´åŒºåŸŸ
4. **ç”µå­è¡¨æ ¼**ï¼šæ¡ä»¶æ ¼å¼åŒ–å¤„ç†

## ğŸš¨ å¸¸è§é™·é˜±

### ä¿®æ”¹çŸ©é˜µæ—¶çš„å¹²æ‰°é—®é¢˜
```javascript
// âŒ é”™è¯¯ï¼šè¾¹éå†è¾¹ä¿®æ”¹ä¼šå¹²æ‰°ç»“æœ
function setZeroesWrong(matrix) {
    for (let i = 0; i < matrix.length; i++) {
        for (let j = 0; j < matrix[0].length; j++) {
            if (matrix[i][j] === 0) {
                // ç›´æ¥ä¿®æ”¹ä¼šå½±å“åç»­åˆ¤æ–­
                setRowZero(matrix, i);
                setColZero(matrix, j);
            }
        }
    }
}

// âœ… æ­£ç¡®ï¼šå…ˆæ ‡è®°ï¼Œå†ä¿®æ”¹
function setZeroesCorrect(matrix) {
    const rows = new Set();
    const cols = new Set();

    // å…ˆæ ‡è®°
    for (let i = 0; i < matrix.length; i++) {
        for (let j = 0; j < matrix[0].length; j++) {
            if (matrix[i][j] === 0) {
                rows.add(i);
                cols.add(j);
            }
        }
    }

    // å†ä¿®æ”¹
    // ...
}
```

### é¦–è¡Œé¦–åˆ—å¤„ç†é”™è¯¯
```javascript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰ç‰¹æ®Šå¤„ç†é¦–è¡Œé¦–åˆ—
function setZeroesWrong(matrix) {
    // ä½¿ç”¨é¦–è¡Œé¦–åˆ—ä½œä¸ºæ ‡è®°ï¼Œä½†æ²¡æœ‰å…ˆä¿å­˜å®ƒä»¬çš„çŠ¶æ€
    for (let i = 1; i < matrix.length; i++) {
        for (let j = 1; j < matrix[0].length; j++) {
            if (matrix[i][j] === 0) {
                matrix[i][0] = 0;
                matrix[0][j] = 0;
            }
        }
    }
    // åç»­å¤„ç†...
}

// âœ… æ­£ç¡®ï¼šå…ˆæ£€æŸ¥é¦–è¡Œé¦–åˆ—æ˜¯å¦æœ‰é›¶
function setZeroesCorrect(matrix) {
    let firstRowHasZero = false;
    let firstColHasZero = false;

    // æ£€æŸ¥é¦–è¡Œæ˜¯å¦æœ‰é›¶
    for (let j = 0; j < matrix[0].length; j++) {
        if (matrix[0][j] === 0) {
            firstRowHasZero = true;
            break;
        }
    }

    // æ£€æŸ¥é¦–åˆ—æ˜¯å¦æœ‰é›¶
    // ...
}
```

### éå†é¡ºåºé”™è¯¯
```javascript
// âŒ é”™è¯¯ï¼šä»å‰å‘åéå†ä¼šæå‰ä¿®æ”¹æ ‡è®°
function setZeroesWrong(matrix) {
    // æ ‡è®°å®Œæˆåï¼Œä»å‰å‘åéå†ä¼šå…ˆä¿®æ”¹é¦–è¡Œé¦–åˆ—çš„æ ‡è®°
    for (let i = 0; i < matrix.length; i++) {
        for (let j = 0; j < matrix[0].length; j++) {
            if (matrix[i][0] === 0 || matrix[0][j] === 0) {
                matrix[i][j] = 0;
            }
        }
    }
}

// âœ… æ­£ç¡®ï¼šä»åå‘å‰éå†ï¼Œé¿å…æå‰ä¿®æ”¹æ ‡è®°
function setZeroesCorrect(matrix) {
    // ä»åå‘å‰éå†ï¼Œä¿è¯æ ‡è®°ä¸è¢«æå‰ä¿®æ”¹
    for (let i = matrix.length - 1; i >= 0; i--) {
        for (let j = matrix[0].length - 1; j >= 0; j--) {
            // å¤„ç†é€»è¾‘
        }
    }
}
```

## ğŸ’­ å­¦ä¹ å¿ƒå¾—

### æˆ‘çš„æ”¶è·
1. **åŸåœ°ç®—æ³•æ€æƒ³**ï¼šå­¦ä¼šåˆ©ç”¨é—®é¢˜æœ¬èº«çš„ç‰¹æ€§èŠ‚çœç©ºé—´
2. **æ ‡è®°æŠ€å·§**ï¼šä½¿ç”¨æ ‡è®°æ•°ç»„æˆ–åŸå§‹æ•°æ®ç»“æ„ä½œä¸ºæ ‡è®°
3. **ç©ºé—´ä¼˜åŒ–æ–¹æ³•**ï¼šä»é¢å¤–ç©ºé—´åˆ°å¸¸æ•°ç©ºé—´çš„ä¼˜åŒ–æ€è·¯
4. **çŸ©é˜µå¤„ç†æ¨¡å¼**ï¼šæŒæ¡çŸ©é˜µé—®é¢˜çš„å¸¸è§å¤„ç†æ¨¡å¼

### è§£é¢˜æ¨¡æ¿
```javascript
function setZeroes(matrix) {
    // 1. å¤„ç†è¾¹ç•Œæƒ…å†µ
    if (!matrix || matrix.length === 0) return;

    const m = matrix.length;
    const n = matrix[0].length;

    // 2. åˆå§‹åŒ–æ ‡è®°ï¼ˆæ ¹æ®ç©ºé—´è¦æ±‚é€‰æ‹©ä¸åŒæ–¹æ¡ˆï¼‰
    // æ–¹æ¡ˆA: ä½¿ç”¨é¢å¤–æ•°ç»„
    const rows = new Array(m).fill(false);
    const cols = new Array(n).fill(false);

    // æ–¹æ¡ˆB: ä½¿ç”¨çŸ©é˜µè‡ªèº«
    let firstRowHasZero = false;
    let firstColHasZero = false;

    // 3. ç¬¬ä¸€æ¬¡éå†ï¼šæ ‡è®°
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            if (matrix[i][j] === 0) {
                // æ ¹æ®é€‰æ‹©çš„æ–¹æ¡ˆè¿›è¡Œæ ‡è®°
            }
        }
    }

    // 4. ç¬¬äºŒæ¬¡éå†ï¼šç½®é›¶
    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            // æ ¹æ®æ ‡è®°è¿›è¡Œç½®é›¶
        }
    }

    // 5. ç‰¹æ®Šå¤„ç†ï¼ˆå¦‚æœéœ€è¦ï¼‰
    // å¤„ç†é¦–è¡Œé¦–åˆ—ç­‰ç‰¹æ®Šæƒ…å†µ
}
```

### é¢è¯•è¦ç‚¹
- ğŸ¯ **ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–**ï¼šå±•ç¤ºä»O(m+n)åˆ°O(1)çš„ä¼˜åŒ–æ€è·¯
- ğŸ¯ **åŸåœ°ç®—æ³•æ€æƒ³**ï¼šè¯´æ˜å¦‚ä½•åˆ©ç”¨è¾“å…¥æ•°æ®ç»“æ„æœ¬èº«
- ğŸ¯ **è¾¹ç•Œæƒ…å†µå¤„ç†**ï¼šè€ƒè™‘ç©ºçŸ©é˜µã€1x1çŸ©é˜µç­‰ç‰¹æ®Šæƒ…å†µ
- ğŸ¯ **ä¸¤é˜¶æ®µå¤„ç†**ï¼šå¼ºè°ƒå…ˆæ ‡è®°åä¿®æ”¹çš„é‡è¦æ€§

### å®é™…åº”ç”¨åœºæ™¯
- ğŸ“Š **å›¾åƒå¤„ç†**ï¼šç‰¹å®šåƒç´ çš„å½±å“ä¼ æ’­
- ğŸ® **æ¸¸æˆå¼€å‘**ï¼šåœ°å›¾å…ƒç´ çš„è¿é”ååº”
- ğŸ“ˆ **æ•°æ®åˆ†æ**ï¼šæ•°æ®æ¸…æ´—å’Œæ¡ä»¶å¤„ç†
- ğŸ“± **UIå¼€å‘**ï¼šç»„ä»¶çŠ¶æ€çš„æ‰¹é‡æ›´æ–°

---
*å­¦ä¹ æ—¥æœŸï¼š2024å¹´ | éš¾åº¦ï¼šâ­â­â­â˜†â˜†*
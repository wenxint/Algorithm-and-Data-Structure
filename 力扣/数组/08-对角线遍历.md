# å¯¹è§’çº¿éå†é—®é¢˜ â†—ï¸â†™ï¸

## ğŸ¯ é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå«æœ‰ M x N ä¸ªå…ƒç´ çš„çŸ©é˜µï¼ˆM è¡Œï¼ŒN åˆ—ï¼‰ï¼Œè¯·ä»¥å¯¹è§’çº¿éå†çš„é¡ºåºè¿”å›è¿™ä¸ªçŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

**è¦æ±‚**ï¼š

- å¯¹è§’çº¿éå†é¡ºåºï¼šä»å·¦ä¸Šè§’å¼€å§‹ï¼Œæ²¿å¯¹è§’çº¿æ–¹å‘éå†æ•´ä¸ªçŸ©é˜µ
- éå†æ–¹å‘äº¤æ›¿å˜åŒ–ï¼šå…ˆå‘å³ä¸Šæ–¹ï¼Œå†å‘å·¦ä¸‹æ–¹ï¼Œå¦‚æ­¤äº¤æ›¿
- è¿”å›éå†ç»“æœä¸ºä¸€ç»´æ•°ç»„

**ç¤ºä¾‹**ï¼š

```javascript
è¾“å…¥:
[
 [ 1, 2, 3 ],
 [ 4, 5, 6 ],
 [ 7, 8, 9 ]
]

è¾“å‡º: [1, 2, 4, 7, 5, 3, 6, 8, 9]

è§£é‡Š: éå†é¡ºåºå¦‚ä¸‹å›¾æ‰€ç¤º
1 -> 2 -> 4 -> 7 -> 5 -> 3 -> 6 -> 8 -> 9

å¯è§†åŒ–:
[
 [1â†—, 2â†™, 3â†—],
 [4â†—, 5â†—, 6â†™],
 [7â†™, 8â†—, 9â†™]
]
```

## ğŸ’¡ æˆ‘çš„åŸå§‹æ–¹æ³•

### æ€è·¯åˆ†æ

æˆ‘æœ€åˆçš„æƒ³æ³•æ˜¯ï¼š

1. è§‚å¯Ÿå¯¹è§’çº¿è§„å¾‹ï¼šæ‰€æœ‰å…ƒç´ åæ ‡(i,j)æ»¡è¶³ i+j ç›¸ç­‰çš„å…ƒç´ åœ¨åŒä¸€å¯¹è§’çº¿ä¸Š
2. ç¡®å®šå¯¹è§’çº¿æ–¹å‘ï¼šå½“ (i+j) ä¸ºå¶æ•°æ—¶ï¼Œæ–¹å‘æ˜¯å³ä¸Šï¼ˆè¡Œå‡å°ï¼Œåˆ—å¢åŠ ï¼‰ï¼›å½“ (i+j) ä¸ºå¥‡æ•°æ—¶ï¼Œæ–¹å‘æ˜¯å·¦ä¸‹ï¼ˆè¡Œå¢åŠ ï¼Œåˆ—å‡å°ï¼‰
3. æŒ‰ç…§å¯¹è§’çº¿é¡ºåºéå†çŸ©é˜µ

### ä»£ç å®ç°

```javascript
function findDiagonalOrder(mat) {
    if (!mat || mat.length === 0) return [];

    const m = mat.length;      // è¡Œæ•°
    const n = mat[0].length;   // åˆ—æ•°
    const result = [];

    let i = 0, j = 0;          // å½“å‰ä½ç½®
    let goingUp = true;        // å½“å‰æ–¹å‘ï¼štrueä¸ºå‘ä¸Šï¼Œfalseä¸ºå‘ä¸‹

    // éœ€è¦éå† m*n ä¸ªå…ƒç´ 
    for (let count = 0; count < m * n; count++) {
        // æ·»åŠ å½“å‰å…ƒç´ åˆ°ç»“æœ
        result.push(mat[i][j]);
        console.log(`ä½ç½®(${i},${j}) = ${mat[i][j]}, æ–¹å‘: ${goingUp ? 'å‘ä¸Š' : 'å‘ä¸‹'}`);

        if (goingUp) {
            // ğŸ”º å‘ä¸Šç§»åŠ¨é€»è¾‘ï¼ši--, j++
            if (i === 0 || j === n - 1) {
                // é‡åˆ°è¾¹ç•Œï¼Œéœ€è¦è½¬å‘
                goingUp = false; // æ”¹ä¸ºå‘ä¸‹

                if (j === n - 1) {
                    // åˆ°è¾¾å³è¾¹ç•Œï¼Œä¸‹ç§»åˆ°ä¸‹ä¸€è¡Œ
                    i++;
                } else {
                    // åˆ°è¾¾ä¸Šè¾¹ç•Œï¼Œå³ç§»åˆ°ä¸‹ä¸€åˆ—
                    j++;
                }
            } else {
                // æ­£å¸¸å‘ä¸Šç§»åŠ¨
                i--;
                j++;
            }
        } else {
            // ğŸ”» å‘ä¸‹ç§»åŠ¨é€»è¾‘ï¼ši++, j--
            if (i === m - 1 || j === 0) {
                // é‡åˆ°è¾¹ç•Œï¼Œéœ€è¦è½¬å‘
                goingUp = true; // æ”¹ä¸ºå‘ä¸Š

                if (i === m - 1) {
                    // åˆ°è¾¾ä¸‹è¾¹ç•Œï¼Œå³ç§»åˆ°ä¸‹ä¸€åˆ—
                    j++;
                } else {
                    // åˆ°è¾¾å·¦è¾¹ç•Œï¼Œä¸‹ç§»åˆ°ä¸‹ä¸€è¡Œ
                    i++;
                }
            } else {
                // æ­£å¸¸å‘ä¸‹ç§»åŠ¨
                i++;
                j--;
            }
        }
    }

    return result;
}
```

### å­˜åœ¨çš„é—®é¢˜

- âŒ ä»£ç é€»è¾‘å¤æ‚ï¼Œä¸å¤Ÿç›´è§‚
- âŒ ä½¿ç”¨äº†é¢å¤–çš„ä¸´æ—¶æ•°ç»„ï¼Œå¢åŠ äº†ç©ºé—´å¤æ‚åº¦
- âŒ å¯¹è§’çº¿æ–¹å‘åˆ¤æ–­å’Œåè½¬æ“ä½œç¹ç
- âŒ è¾¹ç•Œæ¡ä»¶å¤„ç†ä¸å¤Ÿæ¸…æ™°
- âŒ æ²¡æœ‰å……åˆ†åˆ©ç”¨æ–¹å‘å˜åŒ–çš„è§„å¾‹

## ğŸ”§ æ”¹è¿›ç‰ˆæœ¬

### ä¼˜åŒ–æ€è·¯

1. ç›´æ¥æ¨¡æ‹Ÿå¯¹è§’çº¿éå†è¿‡ç¨‹ï¼Œä¸ä½¿ç”¨ä¸´æ—¶æ•°ç»„
2. æ˜ç¡®å¤„ç†å››ç§è¾¹ç•Œæƒ…å†µå’Œæ–¹å‘å˜åŒ–
3. ä½¿ç”¨æ–¹å‘å˜é‡æ§åˆ¶éå†æ–¹å‘
4. æ·»åŠ è¯¦ç»†æ³¨é‡Šå’Œè¾¹ç•Œæ¡ä»¶å¤„ç†

### æ”¹è¿›ä»£ç 

```javascript
/**
 * å¯¹è§’çº¿éå†ç®—æ³•ï¼ˆæ”¹è¿›ç‰ˆï¼‰
 *
 * æ ¸å¿ƒæ€æƒ³ï¼š
 * 1. ç›´æ¥æ¨¡æ‹Ÿéå†è¿‡ç¨‹ï¼Œè·Ÿè¸ªå½“å‰ä½ç½®å’Œæ–¹å‘
 * 2. å½“ç¢°åˆ°è¾¹ç•Œæ—¶ï¼Œæ ¹æ®è§„åˆ™æ”¹å˜æ–¹å‘å’Œèµ·å§‹ä½ç½®
 * 3. ä½¿ç”¨æ–¹å‘æ•°ç»„ç®€åŒ–ä»£ç 
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {number[]} å¯¹è§’çº¿éå†ç»“æœ
 * @time O(m*n) çº¿æ€§æ—¶é—´å¤æ‚åº¦
 * @space O(m*n) ä»…ç”¨äºå­˜å‚¨ç»“æœ
 */
function findDiagonalOrderImproved(matrix) {
    // è¾“å…¥éªŒè¯
    if (!matrix || matrix.length === 0 || matrix[0].length === 0) {
        return [];
    }

    const m = matrix.length;
    const n = matrix[0].length;
    const result = new Array(m * n);

    console.log(`å¤„ç† ${m}x${n} çŸ©é˜µ`);

    let row = 0, col = 0; // å½“å‰ä½ç½®
    let direction = 1;    // 1: å³ä¸Šæ–¹å‘, -1: å·¦ä¸‹æ–¹å‘

    // éå†æ‰€æœ‰å…ƒç´ 
    for (let i = 0; i < m * n; i++) {
        // å°†å½“å‰å…ƒç´ åŠ å…¥ç»“æœ
        result[i] = matrix[row][col];
        console.log(`è®¿é—®å…ƒç´  (${row}, ${col}) = ${matrix[row][col]}, æ–¹å‘: ${direction === 1 ? 'å³ä¸Š' : 'å·¦ä¸‹'}`);

        // æ ¹æ®å½“å‰æ–¹å‘ç§»åŠ¨
        if (direction === 1) {
            // å‘å³ä¸Šç§»åŠ¨
            // å¦‚æœåˆ°è¾¾å³è¾¹ç•Œï¼Œåˆ™å‘ä¸‹ç§»åŠ¨ä¸€æ ¼å¹¶æ”¹å˜æ–¹å‘
            if (col === n - 1) {
                row++;
                direction = -1;
                console.log(`ç¢°åˆ°å³è¾¹ç•Œï¼Œå‘ä¸‹ç§»åŠ¨åˆ° (${row}, ${col})ï¼Œæ”¹å˜æ–¹å‘ä¸ºå·¦ä¸‹`);
            }
            // å¦‚æœåˆ°è¾¾ä¸Šè¾¹ç•Œï¼Œåˆ™å‘å³ç§»åŠ¨ä¸€æ ¼å¹¶æ”¹å˜æ–¹å‘
            else if (row === 0) {
                col++;
                direction = -1;
                console.log(`ç¢°åˆ°ä¸Šè¾¹ç•Œï¼Œå‘å³ç§»åŠ¨åˆ° (${row}, ${col})ï¼Œæ”¹å˜æ–¹å‘ä¸ºå·¦ä¸‹`);
            }
            // æ­£å¸¸å³ä¸Šç§»åŠ¨
            else {
                row--;
                col++;
            }
        } else {
            // å‘å·¦ä¸‹ç§»åŠ¨
            // å¦‚æœåˆ°è¾¾ä¸‹è¾¹ç•Œï¼Œåˆ™å‘å³ç§»åŠ¨ä¸€æ ¼å¹¶æ”¹å˜æ–¹å‘
            if (row === m - 1) {
                col++;
                direction = 1;
                console.log(`ç¢°åˆ°ä¸‹è¾¹ç•Œï¼Œå‘å³ç§»åŠ¨åˆ° (${row}, ${col})ï¼Œæ”¹å˜æ–¹å‘ä¸ºå³ä¸Š`);
            }
            // å¦‚æœåˆ°è¾¾å·¦è¾¹ç•Œï¼Œåˆ™å‘ä¸‹ç§»åŠ¨ä¸€æ ¼å¹¶æ”¹å˜æ–¹å‘
            else if (col === 0) {
                row++;
                direction = 1;
                console.log(`ç¢°åˆ°å·¦è¾¹ç•Œï¼Œå‘ä¸‹ç§»åŠ¨åˆ° (${row}, ${col})ï¼Œæ”¹å˜æ–¹å‘ä¸ºå³ä¸Š`);
            }
            // æ­£å¸¸å·¦ä¸‹ç§»åŠ¨
            else {
                row++;
                col--;
            }
        }
    }

    console.log("å¯¹è§’çº¿éå†å®Œæˆ");
    return result;
}

// å®Œæ•´æµ‹è¯•å‡½æ•°
function testDiagonalTraverse() {
    const testCases = [
        {
            input: [
                [1, 2, 3],
                [4, 5, 6],
                [7, 8, 9]
            ],
            expected: [1, 2, 4, 7, 5, 3, 6, 8, 9],
            description: "3x3æ ‡å‡†çŸ©é˜µ"
        },
        {
            input: [
                [1, 2],
                [3, 4]
            ],
            expected: [1, 2, 3, 4],
            description: "2x2çŸ©é˜µ"
        },
        {
            input: [
                [1, 2, 3, 4],
                [5, 6, 7, 8]
            ],
            expected: [1, 2, 5, 6, 3, 7, 4, 8],
            description: "2x4çŸ©é˜µï¼ˆè¡Œå°‘åˆ—å¤šï¼‰"
        },
        {
            input: [
                [1, 2],
                [3, 4],
                [5, 6],
                [7, 8]
            ],
            expected: [1, 2, 3, 5, 4, 6, 7, 8],
            description: "4x2çŸ©é˜µï¼ˆè¡Œå¤šåˆ—å°‘ï¼‰"
        },
        {
            input: [[1]],
            expected: [1],
            description: "1x1çŸ©é˜µ"
        },
        {
            input: [[1, 2, 3]],
            expected: [1, 2, 3],
            description: "å•è¡ŒçŸ©é˜µ"
        },
        {
            input: [[1], [2], [3]],
            expected: [1, 2, 3],
            description: "å•åˆ—çŸ©é˜µ"
        },
        {
            input: [],
            expected: [],
            description: "ç©ºçŸ©é˜µ"
        }
    ];

    testCases.forEach((testCase, index) => {
        console.log(`\n=== æµ‹è¯•ç”¨ä¾‹ ${index + 1}: ${testCase.description} ===`);

        console.log("è¾“å…¥çŸ©é˜µ:");
        printMatrix(testCase.input);

        const startTime = performance.now();
        const result = findDiagonalOrderImproved(testCase.input);
        const endTime = performance.now();

        console.log(`è¾“å‡º: [${result.join(', ')}]`);
        console.log(`æœŸæœ›: [${testCase.expected.join(', ')}]`);

        const isCorrect = arraysEqual(result, testCase.expected);
        console.log(`ç»“æœ: ${isCorrect ? 'âœ… æ­£ç¡®' : 'âŒ é”™è¯¯'}`);
        console.log(`æ‰§è¡Œæ—¶é—´: ${(endTime - startTime).toFixed(3)}ms`);
    });
}

// è¾…åŠ©å‡½æ•°ï¼šæ‰“å°çŸ©é˜µ
function printMatrix(matrix) {
    if (!matrix || matrix.length === 0) {
        console.log("[]");
        return;
    }

    console.log("[");
    for (let i = 0; i < matrix.length; i++) {
        console.log(`  [${matrix[i].join(', ')}]${i < matrix.length - 1 ? ',' : ''}`);
    }
    console.log("]");
}

// è¾…åŠ©å‡½æ•°ï¼šæ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰
function arraysEqual(arr1, arr2) {
    if (arr1.length !== arr2.length) return false;
    for (let i = 0; i < arr1.length; i++) {
        if (arr1[i] !== arr2[i]) return false;
    }
    return true;
}

testDiagonalTraverse();
```

### æ”¹è¿›äº®ç‚¹

- âœ… ç›´æ¥æ¨¡æ‹Ÿéå†è¿‡ç¨‹ï¼Œä»£ç é€»è¾‘æ›´æ¸…æ™°
- âœ… ä½¿ç”¨æ–¹å‘å˜é‡ç®€åŒ–å¯¹è§’çº¿æ–¹å‘æ§åˆ¶
- âœ… æ˜ç¡®å¤„ç†å››ç§è¾¹ç•Œæƒ…å†µ
- âœ… æ·»åŠ äº†è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯å’Œæµ‹è¯•ç”¨ä¾‹
- âœ… ä¼˜åŒ–äº†ç©ºé—´ä½¿ç”¨ï¼Œä¸å†éœ€è¦ä¸´æ—¶æ•°ç»„

## ğŸŒŸ æ¨èçš„æœ€ä½³æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šæ¨¡æ‹Ÿéå†ï¼ˆæœ€ç›´è§‚ï¼‰

```javascript
/**
 * å¯¹è§’çº¿éå† - æ¨¡æ‹Ÿéå†æ³•
 *
 * æœ€ç›´è§‚çš„å®ç°ï¼Œé€‚åˆé¢è¯•
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {number[]} å¯¹è§’çº¿éå†ç»“æœ
 */
function findDiagonalOrder(matrix) {
    if (!matrix || matrix.length === 0) return [];

    const m = matrix.length;
    const n = matrix[0].length;
    const result = new Array(m * n);

    let row = 0, col = 0;
    let direction = 1; // 1: å‘ä¸Š, -1: å‘ä¸‹

    for (let i = 0; i < m * n; i++) {
        result[i] = matrix[row][col];

        // æ ¹æ®å½“å‰æ–¹å‘ç§»åŠ¨
        if (direction === 1) {
            // å‘å³ä¸Šç§»åŠ¨
            if (col === n - 1) { // åˆ°è¾¾å³è¾¹ç•Œ
                row++;
                direction = -1;
            } else if (row === 0) { // åˆ°è¾¾ä¸Šè¾¹ç•Œ
                col++;
                direction = -1;
            } else { // æ­£å¸¸ç§»åŠ¨
                row--;
                col++;
            }
        } else {
            // å‘å·¦ä¸‹ç§»åŠ¨
            if (row === m - 1) { // åˆ°è¾¾ä¸‹è¾¹ç•Œ
                col++;
                direction = 1;
            } else if (col === 0) { // åˆ°è¾¾å·¦è¾¹ç•Œ
                row++;
                direction = 1;
            } else { // æ­£å¸¸ç§»åŠ¨
                row++;
                col--;
            }
        }
    }

    return result;
}
```

### æ–¹æ³•äºŒï¼šåæ ‡å’Œåˆ†ç»„æ³•

```javascript
/**
 * å¯¹è§’çº¿éå† - åæ ‡å’Œåˆ†ç»„æ³•
 *
 * åˆ©ç”¨åæ ‡å’Œ(i+j)åˆ†ç»„ï¼Œå†æ ¹æ®å¥‡å¶æ€§å†³å®šé¡ºåº
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {number[]} å¯¹è§’çº¿éå†ç»“æœ
 */
function findDiagonalOrderBySum(matrix) {
    if (!matrix || matrix.length === 0) return [];

    const m = matrix.length;
    const n = matrix[0].length;
    const result = [];

    // å¯¹è§’çº¿ç¼–å·ä»0åˆ°m+n-2
    for (let sum = 0; sum <= m + n - 2; sum++) {
        const temp = [];

        // æ”¶é›†å½“å‰å¯¹è§’çº¿ä¸Šçš„å…ƒç´ 
        for (let i = 0; i <= sum; i++) {
            const j = sum - i;
            if (i < m && j < n) {
                temp.push(matrix[i][j]);
            }
        }

        // æ ¹æ®å¯¹è§’çº¿ç¼–å·å†³å®šæ–¹å‘
        if (sum % 2 === 0) {
            // å¶æ•°å¯¹è§’çº¿ï¼Œä»ä¸‹åˆ°ä¸Š
            result.push(...temp.reverse());
        } else {
            // å¥‡æ•°å¯¹è§’çº¿ï¼Œä»ä¸Šåˆ°ä¸‹
            result.push(...temp);
        }
    }

    return result;
}
```

### æ–¹æ³•ä¸‰ï¼šæ–¹å‘æ•°ç»„æ³•

```javascript
/**
 * å¯¹è§’çº¿éå† - æ–¹å‘æ•°ç»„æ³•
 *
 * ä½¿ç”¨æ–¹å‘æ•°ç»„ç®€åŒ–è¾¹ç•Œå¤„ç†
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {number[]} å¯¹è§’çº¿éå†ç»“æœ
 */
function findDiagonalOrderWithDirections(matrix) {
    if (!matrix || matrix.length === 0) return [];

    const m = matrix.length;
    const n = matrix[0].length;
    const result = new Array(m * n);

    // æ–¹å‘æ•°ç»„ï¼šå³ä¸Šå’Œå·¦ä¸‹
    const directions = [[-1, 1], [1, -1]];
    let row = 0, col = 0;
    let d = 0; // 0: å³ä¸Šæ–¹å‘, 1: å·¦ä¸‹æ–¹å‘

    for (let i = 0; i < m * n; i++) {
        result[i] = matrix[row][col];

        // å°è¯•æŒ‰å½“å‰æ–¹å‘ç§»åŠ¨
        row += directions[d][0];
        col += directions[d][1];

        // æ£€æŸ¥è¾¹ç•Œå¹¶è°ƒæ•´
        if (row >= m) { row = m - 1; col += 2; d = 0; } // è¶…å‡ºä¸‹è¾¹ç•Œ
        if (col >= n) { col = n - 1; row += 2; d = 1; } // è¶…å‡ºå³è¾¹ç•Œ
        if (row < 0) { row = 0; d = 1; }                // è¶…å‡ºä¸Šè¾¹ç•Œ
        if (col < 0) { col = 0; d = 0; }                // è¶…å‡ºå·¦è¾¹ç•Œ

        // å¤„ç†è§’è½ç‰¹æ®Šæƒ…å†µ
        if (row >= m) { row = m - 1; col += 1; d = 0; }
        if (col >= n) { col = n - 1; row += 1; d = 1; }
    }

    return result;
}
```

### æ–¹æ³•å››ï¼šåæ ‡å˜æ¢æ³•

```javascript
/**
 * å¯¹è§’çº¿éå† - åæ ‡å˜æ¢æ³•
 *
 * ä½¿ç”¨æ•°å­¦å…¬å¼ç›´æ¥è®¡ç®—ç»“æœæ•°ç»„ä¸­çš„ç´¢å¼•
 *
 * @param {number[][]} matrix - è¾“å…¥çŸ©é˜µ
 * @returns {number[]} å¯¹è§’çº¿éå†ç»“æœ
 */
function findDiagonalOrderMath(matrix) {
    if (!matrix || matrix.length === 0) return [];

    const m = matrix.length;
    const n = matrix[0].length;
    const result = new Array(m * n);

    for (let i = 0; i < m; i++) {
        for (let j = 0; j < n; j++) {
            // è®¡ç®—å¯¹è§’çº¿ç¼–å·
            const diagNum = i + j;

            // è®¡ç®—åœ¨ç»“æœæ•°ç»„ä¸­çš„ç´¢å¼•
            // å¯¹è§’çº¿é•¿åº¦è®¡ç®—: min(diagNum+1, m, n, m+n-1-diagNum)
            let pos;
            if (diagNum % 2 === 0) {
                // å¶æ•°å¯¹è§’çº¿ï¼Œä»ä¸‹åˆ°ä¸Š
                const diagLen = Math.min(diagNum + 1, m, n, m + n - 1 - diagNum);
                pos = (diagNum * (diagNum + 1)) / 2 - i;
            } else {
                // å¥‡æ•°å¯¹è§’çº¿ï¼Œä»ä¸Šåˆ°ä¸‹
                const diagLen = Math.min(diagNum + 1, m, n, m + n - 1 - diagNum);
                pos = (diagNum * (diagNum + 1)) / 2 - j;
            }

            result[pos] = matrix[i][j];
        }
    }

    return result;
}
```

## ğŸ“Š å¤æ‚åº¦åˆ†æ


| æ–¹æ³•         | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦  | ä¼˜ç‚¹     | ç¼ºç‚¹         | é€‚ç”¨åœºæ™¯       |
| ------------ | ---------- | ----------- | -------- | ------------ | -------------- |
| æˆ‘çš„åŸå§‹ç‰ˆæœ¬ | O(m*n)     | O(m+n)      | æ€è·¯ç›´è§‚ | ä½¿ç”¨ä¸´æ—¶æ•°ç»„ | å­¦ä¹ ç†è§£       |
| æ¨¡æ‹Ÿéå†æ³•   | O(m*n)     | O(1)        | ä»£ç ç®€æ´ | è¾¹ç•Œæ¡ä»¶å¤š   | é¢è¯•é¦–é€‰       |
| åæ ‡å’Œåˆ†ç»„æ³• | O(m*n)     | O(min(m,n)) | æ€è·¯æ¸…æ™° | éœ€è¦ä¸´æ—¶æ•°ç»„ | ç†è§£å¯¹è§’çº¿æ€§è´¨ |
| æ–¹å‘æ•°ç»„æ³•   | O(m*n)     | O(1)        | å¤„ç†ç»Ÿä¸€ | é€»è¾‘å¤æ‚     | å¤æ‚çŸ©é˜µé—®é¢˜   |
| åæ ‡å˜æ¢æ³•   | O(m*n)     | O(1)        | æ•°å­¦ä¼˜é›… | éš¾ä»¥ç†è§£     | ç®—æ³•ç«èµ›       |

## ğŸ“ çŸ¥è¯†ç‚¹æ€»ç»“

### æ ¸å¿ƒæ¦‚å¿µ

1. **å¯¹è§’çº¿æ€§è´¨**ï¼šåæ ‡(i,j)ä¹‹å’Œç›¸ç­‰çš„ç‚¹åœ¨åŒä¸€å¯¹è§’çº¿ä¸Š
2. **æ–¹å‘äº¤æ›¿**ï¼šå¯¹è§’çº¿ç¼–å·çš„å¥‡å¶æ€§å†³å®šéå†æ–¹å‘
3. **è¾¹ç•Œå¤„ç†**ï¼šå››ç§è¾¹ç•Œæƒ…å†µéœ€è¦ç‰¹åˆ«å¤„ç†
4. **åæ ‡å˜æ¢**ï¼šåœ¨äºŒç»´çŸ©é˜µå’Œä¸€ç»´æ•°ç»„ä¹‹é—´çš„æ˜ å°„å…³ç³»

### å…³é”®æŠ€å·§

- **æ–¹å‘æ§åˆ¶**ï¼šä½¿ç”¨æ–¹å‘å˜é‡æ§åˆ¶éå†æ–¹å‘
- **è¾¹ç•Œæ£€æµ‹**ï¼šæ£€æµ‹å¹¶å¤„ç†å››ç§è¾¹ç•Œæƒ…å†µ
- **åæ ‡è®¡ç®—**ï¼šåˆ©ç”¨å¯¹è§’çº¿ç¼–å·è®¡ç®—å…ƒç´ ä½ç½®
- **åˆ†ç»„å¤„ç†**ï¼šæŒ‰å¯¹è§’çº¿åˆ†ç»„å¤„ç†å…ƒç´ 

### å®é™…åº”ç”¨

1. **å›¾åƒå¤„ç†**ï¼šæ‰«æå’Œå¤„ç†å›¾åƒçš„ç‰¹å®šæ¨¡å¼
2. **çŸ©é˜µå‹ç¼©**ï¼šå¯¹è§’çº¿éå†å¯ç”¨äºæŸäº›çŸ©é˜µå‹ç¼©ç®—æ³•
3. **å¹¶è¡Œè®¡ç®—**ï¼šå¯¹è§’çº¿å…ƒç´ å¯ä»¥å¹¶è¡Œå¤„ç†
4. **æ¸¸æˆå¼€å‘**ï¼šæ£‹ç›˜ç±»æ¸¸æˆä¸­çš„å¯¹è§’çº¿æ£€æµ‹

## ğŸš¨ å¸¸è§é™·é˜±

### è¾¹ç•Œæ¡ä»¶å¤„ç†ä¸å½“

```javascript
// âŒ é”™è¯¯ï¼šè¾¹ç•Œæ¡ä»¶å¤„ç†ä¸å®Œæ•´
function findDiagonalOrderWrong(matrix) {
    // åªè€ƒè™‘äº†å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œ
    if (col === n - 1) {
        row++;
        direction = -1;
    } else if (row === m - 1) {
        col++;
        direction = 1;
    }
    // é—æ¼äº†ä¸Šè¾¹ç•Œå’Œå·¦è¾¹ç•Œçš„å¤„ç†
}

// âœ… æ­£ç¡®ï¼šå®Œæ•´å¤„ç†å››ä¸ªè¾¹ç•Œ
function findDiagonalOrderCorrect(matrix) {
    if (direction === 1) { // å‘å³ä¸Š
        if (col === n - 1) { // å³è¾¹ç•Œ
            row++;
            direction = -1;
        } else if (row === 0) { // ä¸Šè¾¹ç•Œ
            col++;
            direction = -1;
        } else { // æ­£å¸¸ç§»åŠ¨
            row--;
            col++;
        }
    } else { // å‘å·¦ä¸‹
        if (row === m - 1) { // ä¸‹è¾¹ç•Œ
            col++;
            direction = 1;
        } else if (col === 0) { // å·¦è¾¹ç•Œ
            row++;
            direction = 1;
        } else { // æ­£å¸¸ç§»åŠ¨
            row++;
            col--;
        }
    }
}
```

### æ–¹å‘åˆ¤æ–­é”™è¯¯

```javascript
// âŒ é”™è¯¯ï¼šæ–¹å‘åˆ¤æ–­é€»è¾‘é”™è¯¯
function findDiagonalOrderWrong(matrix) {
    // é”™è¯¯çš„æ–¹å‘åˆ¤æ–­
    if ((row + col) % 2 === 0) {
        // å‘å³ä¸Šç§»åŠ¨
        row--;
        col++;
    } else {
        // å‘å·¦ä¸‹ç§»åŠ¨
        row++;
        col--;
    }
    // æ²¡æœ‰è€ƒè™‘è¾¹ç•Œæƒ…å†µä¸‹çš„æ–¹å‘å˜åŒ–
}

// âœ… æ­£ç¡®ï¼šå…ˆåˆ¤æ–­è¾¹ç•Œï¼Œå†æ ¹æ®æ–¹å‘ç§»åŠ¨
function findDiagonalOrderCorrect(matrix) {
    if (direction === 1) {
        // å…ˆæ£€æŸ¥è¾¹ç•Œ
        if (col === n - 1 || row === 0) {
            // æ”¹å˜æ–¹å‘
            direction = -1;
            // ç¡®å®šæ–°ä½ç½®
            if (col === n - 1) row++;
            else col++;
        } else {
            // æ­£å¸¸ç§»åŠ¨
            row--;
            col++;
        }
    }
    // ç±»ä¼¼å¤„ç†å‘å·¦ä¸‹çš„æƒ…å†µ
}
```

### å¯¹è§’çº¿åˆ†ç»„é”™è¯¯

```javascript
// âŒ é”™è¯¯ï¼šå¯¹è§’çº¿åˆ†ç»„é€»è¾‘é”™è¯¯
function findDiagonalOrderWrong(matrix) {
    // é”™è¯¯ï¼šæ²¡æœ‰æ­£ç¡®å¤„ç†å¯¹è§’çº¿å…ƒç´ çš„é¡ºåº
    for (let sum = 0; sum <= m + n - 2; sum++) {
        for (let i = 0; i <= sum; i++) {
            const j = sum - i;
            if (i < m && j < n) {
                result.push(matrix[i][j]);
            }
        }
    }
    // æ²¡æœ‰è€ƒè™‘æ–¹å‘äº¤æ›¿
}

// âœ… æ­£ç¡®ï¼šæ ¹æ®å¯¹è§’çº¿ç¼–å·å†³å®šé¡ºåº
function findDiagonalOrderCorrect(matrix) {
    for (let sum = 0; sum <= m + n - 2; sum++) {
        const temp = [];
        for (let i = 0; i <= sum; i++) {
            const j = sum - i;
            if (i < m && j < n) {
                temp.push(matrix[i][j]);
            }
        }

        // æ ¹æ®å¯¹è§’çº¿ç¼–å·å†³å®šæ–¹å‘
        if (sum % 2 === 0) {
            result.push(...temp.reverse());
        } else {
            result.push(...temp);
        }
    }
}
```

## ğŸ’­ å­¦ä¹ å¿ƒå¾—

### æˆ‘çš„æ”¶è·

1. **çŸ©é˜µéå†æ¨¡å¼**ï¼šæŒæ¡äº†å¯¹è§’çº¿éå†çš„åŸºæœ¬æ¨¡å¼
2. **è¾¹ç•Œå¤„ç†æŠ€å·§**ï¼šå­¦ä¼šäº†å¤„ç†å¤æ‚è¾¹ç•Œæ¡ä»¶çš„æ–¹æ³•
3. **æ–¹å‘æ§åˆ¶**ï¼šç†è§£äº†å¦‚ä½•æ§åˆ¶å’Œåˆ‡æ¢éå†æ–¹å‘
4. **åæ ‡å…³ç³»**ï¼šæ·±å…¥ç†è§£äº†çŸ©é˜µä¸­åæ ‡ä¹‹é—´çš„æ•°å­¦å…³ç³»

### è§£é¢˜æ¨¡æ¿

```javascript
function findDiagonalOrder(matrix) {
    // 1. è¾¹ç•Œæ£€æŸ¥
    if (!matrix || matrix.length === 0) return [];

    const m = matrix.length;
    const n = matrix[0].length;
    const result = new Array(m * n);

    // 2. åˆå§‹åŒ–å˜é‡
    let row = 0, col = 0;
    let direction = 1; // 1: å‘å³ä¸Š, -1: å‘å·¦ä¸‹

    // 3. éå†çŸ©é˜µ
    for (let i = 0; i < m * n; i++) {
        // 4. è®°å½•å½“å‰å…ƒç´ 
        result[i] = matrix[row][col];

        // 5. æ ¹æ®æ–¹å‘å’Œè¾¹ç•Œè°ƒæ•´ä¸‹ä¸€ä¸ªä½ç½®
        if (direction === 1) {
            // å¤„ç†å³ä¸Šæ–¹å‘
            // æ£€æŸ¥è¾¹ç•Œå¹¶è°ƒæ•´æ–¹å‘
        } else {
            // å¤„ç†å·¦ä¸‹æ–¹å‘
            // æ£€æŸ¥è¾¹ç•Œå¹¶è°ƒæ•´æ–¹å‘
        }
    }

    return result;
}
```

### é¢è¯•è¦ç‚¹

- ğŸ¯ **å¯¹è§’çº¿æ€§è´¨**ï¼šèƒ½å¤Ÿè§£é‡Šåæ ‡å’Œä¸å¯¹è§’çº¿çš„å…³ç³»
- ğŸ¯ **è¾¹ç•Œå¤„ç†**ï¼šæ¸…æ™°è¯´æ˜å››ç§è¾¹ç•Œæƒ…å†µçš„å¤„ç†æ–¹æ³•
- ğŸ¯ **æ–¹å‘äº¤æ›¿**ï¼šè§£é‡Šå¯¹è§’çº¿ç¼–å·ä¸éå†æ–¹å‘çš„å…³ç³»
- ğŸ¯ **ä»£ç ç®€æ´æ€§**ï¼šå±•ç¤ºç®€æ´è€Œä¸å¤±æ¸…æ™°çš„å®ç°

### å®é™…åº”ç”¨åœºæ™¯

- ğŸ“Š **å›¾åƒå¤„ç†**ï¼šæŸäº›å›¾åƒæ‰«æå’Œå¤„ç†ç®—æ³•
- ğŸ® **æ¸¸æˆå¼€å‘**ï¼šæ£‹ç›˜æ¸¸æˆä¸­çš„å¯¹è§’çº¿èƒœåˆ©æ£€æµ‹
- ğŸ“ˆ **æ•°æ®åˆ†æ**ï¼šç‰¹å®šæ¨¡å¼çš„æ•°æ®æ‰«æå’Œå¤„ç†
- ğŸ’¾ **æ•°æ®å‹ç¼©**ï¼šæŸäº›çŸ©é˜µå‹ç¼©ç®—æ³•ä¸­çš„éå†æ–¹å¼

---

*å­¦ä¹ æ—¥æœŸï¼š2024å¹´ | éš¾åº¦ï¼šâ­â­â­â˜†â˜†*

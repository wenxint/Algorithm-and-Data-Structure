# å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ ğŸ”

## ğŸ¯ é¢˜ç›®æè¿°
å®ç° `strStr()` å‡½æ•°ã€‚ç»™å®šä¸€ä¸ª haystack å­—ç¬¦ä¸²å’Œä¸€ä¸ª needle å­—ç¬¦ä¸²ï¼Œåœ¨ haystack å­—ç¬¦ä¸²ä¸­æ‰¾å‡º needle å­—ç¬¦ä¸²å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1ã€‚

**è¦æ±‚**ï¼š
- æ‰¾åˆ° needle åœ¨ haystack ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
- å¦‚æœ needle ä¸å­˜åœ¨ï¼Œè¿”å› -1
- å¦‚æœ needle æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œè¿”å› 0
- å¤„ç†è¾¹ç•Œæƒ…å†µ

**ç¤ºä¾‹**ï¼š
```javascript
// ç¤ºä¾‹ 1
è¾“å…¥: haystack = "hello", needle = "ll"
è¾“å‡º: 2

// ç¤ºä¾‹ 2
è¾“å…¥: haystack = "aaaaa", needle = "bba"
è¾“å‡º: -1

// ç¤ºä¾‹ 3
è¾“å…¥: haystack = "", needle = ""
è¾“å‡º: 0

// ç¤ºä¾‹ 4
è¾“å…¥: haystack = "a", needle = ""
è¾“å‡º: 0
```

## ğŸ’¡ æˆ‘çš„åŸå§‹æ–¹æ³•

### æ€è·¯åˆ†æ
ç”¨æˆ·çš„åŸå§‹æƒ³æ³•æ˜¯ï¼š
1. è·å– needle çš„é•¿åº¦
2. ä½¿ç”¨ `includes()` æ–¹æ³•å…ˆåˆ¤æ–­æ˜¯å¦å­˜åœ¨
3. å¦‚æœå­˜åœ¨ï¼Œéå† haystackï¼Œä½¿ç”¨ `slice()` æˆªå–ç›¸åŒé•¿åº¦çš„å­ä¸²
4. æ¯”è¾ƒå­ä¸²ä¸ needle æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™è¿”å›ç´¢å¼•
5. å¦‚æœä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å› -1

### åŸå§‹ä»£ç 
```javascript
function strStr(haystack, needle) {
    let needleLength = needle.length;
    
    if (haystack.includes(needle)) {
        for (let i = 0; i < haystack.length; i++) {
            console.log(haystack.slice(i, i + needleLength));
            
            if (haystack.slice(i, i + needleLength) == needle) {
                console.log(i);
                return i;
            }
        }
    } else {
        return -1;
    }
}
```

### ç®—æ³•ä¼˜ç‚¹
- âœ… **é€»è¾‘æ­£ç¡®**ï¼šèƒ½å¤Ÿæ­£ç¡®æ‰¾åˆ°å­ä¸²çš„ä½ç½®
- âœ… **æ€è·¯æ¸…æ™°**ï¼šå…ˆåˆ¤æ–­å­˜åœ¨æ€§ï¼Œå†æ‰¾å…·ä½“ä½ç½®
- âœ… **å®ç°ç®€å•**ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£
- âœ… **è°ƒè¯•å‹å¥½**ï¼šæœ‰ console.log è¾“å‡ºï¼Œä¾¿äºè°ƒè¯•

### å­˜åœ¨çš„é—®é¢˜
- âŒ **é‡å¤å·¥ä½œ**ï¼š`includes()` å’Œå¾ªç¯éƒ½åœ¨åšæŸ¥æ‰¾å·¥ä½œ
- âŒ **æ•ˆç‡ä¸é«˜**ï¼šæ—¶é—´å¤æ‚åº¦ O(nÃ—m)ï¼Œç©ºé—´å¤æ‚åº¦ O(m)ï¼ˆsliceåˆ›å»ºæ–°å­—ç¬¦ä¸²ï¼‰
- âŒ **è¾¹ç•Œå¤„ç†ä¸å®Œæ•´**ï¼šæ²¡æœ‰å¤„ç† needle ä¸ºç©ºå­—ç¬¦ä¸²çš„æƒ…å†µ
- âŒ **å¾ªç¯èŒƒå›´é—®é¢˜**ï¼šåº”è¯¥æ˜¯ `i <= haystack.length - needleLength`
- âŒ **ä¸å¿…è¦çš„å­—ç¬¦ä¸²åˆ›å»º**ï¼šæ¯æ¬¡ slice éƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²

## ğŸ”§ æ”¹è¿›ç‰ˆæœ¬

### ä¼˜åŒ–æ€è·¯
1. å»æ‰ `includes()` æ£€æŸ¥ï¼Œç›´æ¥åœ¨å¾ªç¯ä¸­å¤„ç†
2. ä¼˜åŒ–å¾ªç¯èŒƒå›´ï¼Œé¿å…ä¸å¿…è¦çš„æ£€æŸ¥
3. æ·»åŠ è¾¹ç•Œæ¡ä»¶å¤„ç†
4. ä½¿ç”¨å­—ç¬¦æ¯”è¾ƒè€Œä¸æ˜¯å­—ç¬¦ä¸²åˆ‡ç‰‡
5. æ·»åŠ æ—©æœŸé€€å‡ºä¼˜åŒ–

### æ”¹è¿›ä»£ç 
```javascript
/**
 * å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼ˆæ”¹è¿›ç‰ˆï¼‰
 *
 * æ ¸å¿ƒæ€æƒ³ï¼š
 * 1. æš´åŠ›åŒ¹é…ï¼Œä½†ä¼˜åŒ–äº†å®ç°ç»†èŠ‚
 * 2. é€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œé¿å…å­—ç¬¦ä¸²åˆ‡ç‰‡
 * 3. ä¼˜åŒ–å¾ªç¯èŒƒå›´å’Œè¾¹ç•Œå¤„ç†
 *
 * @param {string} haystack - ä¸»å­—ç¬¦ä¸²
 * @param {string} needle - è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²
 * @returns {number} ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œä¸å­˜åœ¨è¿”å›-1
 * @time O(nÃ—m) æ—¶é—´å¤æ‚åº¦ï¼Œnä¸ºhaystacké•¿åº¦ï¼Œmä¸ºneedleé•¿åº¦
 * @space O(1) ç©ºé—´å¤æ‚åº¦
 */
function strStrImproved(haystack, needle) {
    // è¾¹ç•Œæ¡ä»¶å¤„ç†
    if (needle === "") {
        return 0; // ç©ºå­—ç¬¦ä¸²çš„ä½ç½®å®šä¹‰ä¸º0
    }
    
    if (haystack === "" || needle.length > haystack.length) {
        return -1;
    }
    
    console.log(`åœ¨ "${haystack}" ä¸­æŸ¥æ‰¾ "${needle}"`);
    
    const needleLength = needle.length;
    const haystackLength = haystack.length;
    let comparisons = 0; // ç»Ÿè®¡æ¯”è¾ƒæ¬¡æ•°
    
    // ä¼˜åŒ–å¾ªç¯èŒƒå›´ï¼šåªéœ€è¦æ£€æŸ¥åˆ° haystackLength - needleLength
    for (let i = 0; i <= haystackLength - needleLength; i++) {
        let matched = true;
        
        // é€ä¸ªå­—ç¬¦æ¯”è¾ƒï¼Œé¿å…åˆ›å»ºå­å­—ç¬¦ä¸²
        for (let j = 0; j < needleLength; j++) {
            comparisons++;
            if (haystack[i + j] !== needle[j]) {
                matched = false;
                break; // ä¸€æ—¦ä¸åŒ¹é…å°±é€€å‡ºå†…å±‚å¾ªç¯
            }
        }
        
        if (matched) {
            console.log(`âœ… åœ¨ä½ç½® ${i} æ‰¾åˆ°åŒ¹é…`);
            console.log(`ğŸ“Š æ€»æ¯”è¾ƒæ¬¡æ•°: ${comparisons}`);
            return i;
        }
    }
    
    console.log(`âŒ æœªæ‰¾åˆ°åŒ¹é…`);
    console.log(`ğŸ“Š æ€»æ¯”è¾ƒæ¬¡æ•°: ${comparisons}`);
    return -1;
}

// å®Œæ•´æµ‹è¯•å‡½æ•°
function testStrStr() {
    const testCases = [
        {
            haystack: "hello",
            needle: "ll",
            expected: 2,
            description: "æ ‡å‡†æƒ…å†µ"
        },
        {
            haystack: "aaaaa",
            needle: "bba",
            expected: -1,
            description: "ä¸å­˜åœ¨çš„æƒ…å†µ"
        },
        {
            haystack: "",
            needle: "",
            expected: 0,
            description: "ä¸¤ä¸ªç©ºå­—ç¬¦ä¸²"
        },
        {
            haystack: "a",
            needle: "",
            expected: 0,
            description: "ç©ºneedle"
        },
        {
            haystack: "",
            needle: "a",
            expected: -1,
            description: "ç©ºhaystack"
        },
        {
            haystack: "abc",
            needle: "abc",
            expected: 0,
            description: "å®Œå…¨åŒ¹é…"
        },
        {
            haystack: "abcdef",
            needle: "def",
            expected: 3,
            description: "æœ«å°¾åŒ¹é…"
        },
        {
            haystack: "mississippi",
            needle: "issip",
            expected: 4,
            description: "å¤æ‚åŒ¹é…"
        }
    ];

    testCases.forEach((testCase, index) => {
        console.log(`\n=== æµ‹è¯•ç”¨ä¾‹ ${index + 1}: ${testCase.description} ===`);
        
        const startTime = performance.now();
        const result = strStrImproved(testCase.haystack, testCase.needle);
        const endTime = performance.now();
        
        console.log(`è¾“å…¥: haystack="${testCase.haystack}", needle="${testCase.needle}"`);
        console.log(`é¢„æœŸ: ${testCase.expected}, å®é™…: ${result}`);
        console.log(`æ‰§è¡Œæ—¶é—´: ${(endTime - startTime).toFixed(3)}ms`);
        
        if (result === testCase.expected) {
            console.log('âœ… æµ‹è¯•é€šè¿‡');
        } else {
            console.log('âŒ æµ‹è¯•å¤±è´¥');
        }
    });
}

testStrStr();
```

### æ”¹è¿›äº®ç‚¹
- âœ… **å»æ‰é‡å¤æ£€æŸ¥**ï¼šä¸ä½¿ç”¨ `includes()`ï¼Œç›´æ¥åœ¨å¾ªç¯ä¸­å¤„ç†
- âœ… **ä¼˜åŒ–å¾ªç¯èŒƒå›´**ï¼šé¿å…ä¸å¿…è¦çš„æ£€æŸ¥
- âœ… **å­—ç¬¦çº§æ¯”è¾ƒ**ï¼šé¿å…åˆ›å»ºå­å­—ç¬¦ä¸²ï¼Œæé«˜æ•ˆç‡
- âœ… **å®Œå–„è¾¹ç•Œå¤„ç†**ï¼šå¤„ç†å„ç§è¾¹ç•Œæƒ…å†µ
- âœ… **æ—©æœŸé€€å‡º**ï¼šä¸€æ—¦ä¸åŒ¹é…ç«‹å³è·³å‡ºå†…å±‚å¾ªç¯
- âœ… **æ€§èƒ½ç»Ÿè®¡**ï¼šæ·»åŠ æ¯”è¾ƒæ¬¡æ•°ç»Ÿè®¡

## ğŸŒŸ æ¨èçš„æœ€ä½³æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šæš´åŠ›åŒ¹é…ä¼˜åŒ–ç‰ˆï¼ˆé¢è¯•æ¨èï¼‰
```javascript
/**
 * å­—ç¬¦ä¸²åŒ¹é… - æš´åŠ›åŒ¹é…æ³•
 *
 * æœ€ç›´è§‚çš„å®ç°ï¼Œé€‚åˆé¢è¯•
 *
 * @param {string} haystack - ä¸»å­—ç¬¦ä¸²
 * @param {string} needle - è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²
 * @returns {number} ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
 */
function strStr(haystack, needle) {
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    
    for (let i = 0; i <= haystack.length - needle.length; i++) {
        let j = 0;
        
        // ä»å½“å‰ä½ç½®å¼€å§‹åŒ¹é…
        while (j < needle.length && haystack[i + j] === needle[j]) {
            j++;
        }
        
        // å¦‚æœå®Œå…¨åŒ¹é…
        if (j === needle.length) {
            return i;
        }
    }
    
    return -1;
}
```

### æ–¹æ³•äºŒï¼šKMPç®—æ³•ï¼ˆæœ€ä¼˜è§£ï¼‰
```javascript
/**
 * å­—ç¬¦ä¸²åŒ¹é… - KMPç®—æ³•
 *
 * æ ¸å¿ƒæ€æƒ³ï¼šåˆ©ç”¨å·²åŒ¹é…çš„ä¿¡æ¯ï¼Œé¿å…é‡å¤æ¯”è¾ƒ
 *
 * @param {string} haystack - ä¸»å­—ç¬¦ä¸²
 * @param {string} needle - è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²
 * @returns {number} ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
 * @time O(n+m) æ—¶é—´å¤æ‚åº¦
 * @space O(m) ç©ºé—´å¤æ‚åº¦
 */
function strStrKMP(haystack, needle) {
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    
    // æ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆå¤±è´¥å‡½æ•°ï¼‰
    function buildLPS(pattern) {
        const lps = new Array(pattern.length).fill(0);
        let len = 0; // æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦
        let i = 1;
        
        while (i < pattern.length) {
            if (pattern[i] === pattern[len]) {
                len++;
                lps[i] = len;
                i++;
            } else {
                if (len !== 0) {
                    len = lps[len - 1];
                } else {
                    lps[i] = 0;
                    i++;
                }
            }
        }
        
        return lps;
    }
    
    const lps = buildLPS(needle);
    let i = 0; // haystackçš„ç´¢å¼•
    let j = 0; // needleçš„ç´¢å¼•
    
    while (i < haystack.length) {
        if (haystack[i] === needle[j]) {
            i++;
            j++;
        }
        
        if (j === needle.length) {
            return i - j; // æ‰¾åˆ°åŒ¹é…
        } else if (i < haystack.length && haystack[i] !== needle[j]) {
            if (j !== 0) {
                j = lps[j - 1];
            } else {
                i++;
            }
        }
    }
    
    return -1;
}
```

### æ–¹æ³•ä¸‰ï¼šBoyer-Mooreç®—æ³•
```javascript
/**
 * å­—ç¬¦ä¸²åŒ¹é… - Boyer-Mooreç®—æ³•
 *
 * æ ¸å¿ƒæ€æƒ³ï¼šä»å³å‘å·¦åŒ¹é…ï¼Œåˆ©ç”¨åå­—ç¬¦è§„åˆ™è·³è¿‡æ›´å¤šå­—ç¬¦
 *
 * @param {string} haystack - ä¸»å­—ç¬¦ä¸²
 * @param {string} needle - è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²
 * @returns {number} ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
 */
function strStrBoyerMoore(haystack, needle) {
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    
    // æ„å»ºåå­—ç¬¦è¡¨
    function buildBadCharTable(pattern) {
        const table = {};
        for (let i = 0; i < pattern.length; i++) {
            table[pattern[i]] = i;
        }
        return table;
    }
    
    const badCharTable = buildBadCharTable(needle);
    let shift = 0;
    
    while (shift <= haystack.length - needle.length) {
        let j = needle.length - 1;
        
        // ä»å³å‘å·¦åŒ¹é…
        while (j >= 0 && needle[j] === haystack[shift + j]) {
            j--;
        }
        
        if (j < 0) {
            return shift; // æ‰¾åˆ°åŒ¹é…
        } else {
            // è®¡ç®—è·³è·ƒè·ç¦»
            const badChar = haystack[shift + j];
            const badCharIndex = badCharTable[badChar] || -1;
            shift += Math.max(1, j - badCharIndex);
        }
    }
    
    return -1;
}
```

### æ–¹æ³•å››ï¼šRabin-Karpç®—æ³•ï¼ˆæ»šåŠ¨å“ˆå¸Œï¼‰
```javascript
/**
 * å­—ç¬¦ä¸²åŒ¹é… - Rabin-Karpç®—æ³•
 *
 * æ ¸å¿ƒæ€æƒ³ï¼šä½¿ç”¨æ»šåŠ¨å“ˆå¸Œå¿«é€Ÿæ¯”è¾ƒå­ä¸²
 *
 * @param {string} haystack - ä¸»å­—ç¬¦ä¸²
 * @param {string} needle - è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²
 * @returns {number} ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
 */
function strStrRabinKarp(haystack, needle) {
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    
    const BASE = 256;
    const MOD = 101;
    
    // è®¡ç®—å­—ç¬¦ä¸²çš„å“ˆå¸Œå€¼
    function hash(str, len) {
        let h = 0;
        for (let i = 0; i < len; i++) {
            h = (h * BASE + str.charCodeAt(i)) % MOD;
        }
        return h;
    }
    
    const needleLen = needle.length;
    const needleHash = hash(needle, needleLen);
    let hayHash = hash(haystack, needleLen);
    
    // é¢„è®¡ç®—BASE^(needleLen-1) % MOD
    let h = 1;
    for (let i = 0; i < needleLen - 1; i++) {
        h = (h * BASE) % MOD;
    }
    
    // æ»šåŠ¨å“ˆå¸Œ
    for (let i = 0; i <= haystack.length - needleLen; i++) {
        // å“ˆå¸Œå€¼ç›¸ç­‰æ—¶ï¼Œå†è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒ
        if (hayHash === needleHash) {
            let j = 0;
            while (j < needleLen && haystack[i + j] === needle[j]) {
                j++;
            }
            if (j === needleLen) {
                return i;
            }
        }
        
        // è®¡ç®—ä¸‹ä¸€ä¸ªçª—å£çš„å“ˆå¸Œå€¼
        if (i < haystack.length - needleLen) {
            hayHash = (BASE * (hayHash - haystack.charCodeAt(i) * h) + 
                      haystack.charCodeAt(i + needleLen)) % MOD;
            if (hayHash < 0) hayHash += MOD;
        }
    }
    
    return -1;
}
```

### æ–¹æ³•äº”ï¼šå†…ç½®æ–¹æ³•ä¼˜åŒ–ç‰ˆ
```javascript
/**
 * å­—ç¬¦ä¸²åŒ¹é… - å†…ç½®æ–¹æ³•ä¼˜åŒ–ç‰ˆ
 *
 * åŸºäºç”¨æˆ·åŸå§‹æ€è·¯çš„æœ€ä¼˜åŒ–ç‰ˆæœ¬
 *
 * @param {string} haystack - ä¸»å­—ç¬¦ä¸²
 * @param {string} needle - è¦æŸ¥æ‰¾çš„å­å­—ç¬¦ä¸²
 * @returns {number} ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®
 */
function strStrBuiltinOptimized(haystack, needle) {
    if (needle === "") return 0;
    
    // ç›´æ¥ä½¿ç”¨ indexOfï¼Œä½†ä¿æŒç”¨æˆ·çš„é€»è¾‘ç»“æ„
    const index = haystack.indexOf(needle);
    return index;
}

// æˆ–è€…åŸºäºç”¨æˆ·æ€è·¯çš„æ”¹è¿›ç‰ˆ
function strStrUserStyleOptimized(haystack, needle) {
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    
    const needleLength = needle.length;
    
    // å»æ‰ includes æ£€æŸ¥ï¼Œç›´æ¥åœ¨å¾ªç¯ä¸­å¤„ç†
    for (let i = 0; i <= haystack.length - needleLength; i++) {
        // ä½¿ç”¨ substring è€Œä¸æ˜¯ sliceï¼ˆæ€§èƒ½ç¨å¥½ï¼‰
        if (haystack.substring(i, i + needleLength) === needle) {
            return i;
        }
    }
    
    return -1;
}
```

## ğŸ“Š å¤æ‚åº¦åˆ†æ

| æ–¹æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------------|------------|------|------|----------|
| åŸå§‹ç‰ˆæœ¬ | O(nÃ—m) | O(m) | æ€è·¯æ¸…æ™° | é‡å¤æ£€æŸ¥ï¼Œæ•ˆç‡ä½ | å­¦ä¹ ç†è§£ |
| æ”¹è¿›æš´åŠ›æ³• | O(nÃ—m) | O(1) | ç®€å•æ˜“æ‡‚ | æœ€åæƒ…å†µæ•ˆç‡ä½ | é¢è¯•é¦–é€‰ |
| KMPç®—æ³• | O(n+m) | O(m) | æœ€ä¼˜æ—¶é—´å¤æ‚åº¦ | å®ç°å¤æ‚ | å¤§æ•°æ®å¤„ç† |
| Boyer-Moore | O(n/m) ~ O(nÃ—m) | O(Ïƒ) | å¹³å‡æƒ…å†µå¾ˆå¿« | å®ç°å¤æ‚ | æ–‡æœ¬æœç´¢ |
| Rabin-Karp | O(n+m) | O(1) | æ”¯æŒå¤šæ¨¡å¼åŒ¹é… | å“ˆå¸Œå†²çªé£é™© | å¤šæ¨¡å¼æœç´¢ |
| å†…ç½®æ–¹æ³• | O(nÃ—m) | O(1) | ç®€å•å¯é  | ä¾èµ–å†…ç½®å®ç° | å®é™…å¼€å‘ |

*å…¶ä¸­ n æ˜¯ haystack é•¿åº¦ï¼Œm æ˜¯ needle é•¿åº¦ï¼ŒÏƒ æ˜¯å­—ç¬¦é›†å¤§å°*

## ğŸ“ çŸ¥è¯†ç‚¹æ€»ç»“

### æ ¸å¿ƒæ¦‚å¿µ
1. **å­—ç¬¦ä¸²åŒ¹é…**ï¼šåœ¨ä¸»ä¸²ä¸­æŸ¥æ‰¾å­ä¸²çš„è¿‡ç¨‹
2. **æš´åŠ›åŒ¹é…**ï¼šé€ä¸ªä½ç½®å°è¯•åŒ¹é…çš„åŸºç¡€æ–¹æ³•
3. **æ¨¡å¼åŒ¹é…**ï¼šåˆ©ç”¨æ¨¡å¼çš„ç‰¹æ€§ä¼˜åŒ–åŒ¹é…è¿‡ç¨‹
4. **æ»šåŠ¨å“ˆå¸Œ**ï¼šä½¿ç”¨å“ˆå¸Œå‡½æ•°å¿«é€Ÿæ¯”è¾ƒå­ä¸²

### å…³é”®æŠ€å·§
- **å¾ªç¯ä¼˜åŒ–**ï¼šåˆç†è®¾ç½®å¾ªç¯èŒƒå›´ï¼Œé¿å…è¶Šç•Œ
- **æ—©æœŸé€€å‡º**ï¼šä¸€æ—¦ä¸åŒ¹é…ç«‹å³è·³å‡º
- **é¢„å¤„ç†**ï¼šæ„å»ºè¾…åŠ©æ•°æ®ç»“æ„æé«˜æ•ˆç‡
- **è·³è·ƒç­–ç•¥**ï¼šåˆ©ç”¨å·²çŸ¥ä¿¡æ¯è·³è¿‡ä¸å¿…è¦çš„æ¯”è¾ƒ

### å®é™…åº”ç”¨
1. **æ–‡æœ¬æœç´¢**ï¼šç¼–è¾‘å™¨ä¸­çš„æŸ¥æ‰¾åŠŸèƒ½
2. **DNAåºåˆ—åˆ†æ**ï¼šåŸºå› åºåˆ—åŒ¹é…
3. **ç½‘ç»œå®‰å…¨**ï¼šå…¥ä¾µæ£€æµ‹ä¸­çš„æ¨¡å¼åŒ¹é…
4. **æ•°æ®å¤„ç†**ï¼šæ—¥å¿—åˆ†æå’Œæ–‡æœ¬æŒ–æ˜

## ğŸš¨ å¸¸è§é™·é˜±

### è¾¹ç•Œæ¡ä»¶å¤„ç†
```javascript
// âŒ é”™è¯¯ï¼šæ²¡æœ‰å¤„ç†ç©ºå­—ç¬¦ä¸²
function strStrWrong(haystack, needle) {
    for (let i = 0; i < haystack.length; i++) { // needleä¸ºç©ºæ—¶ä¼šå‡ºé—®é¢˜
        // ...
    }
}

// âœ… æ­£ç¡®ï¼šæ£€æŸ¥è¾¹ç•Œæ¡ä»¶
function strStrCorrect(haystack, needle) {
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    // ...
}
```

### å¾ªç¯èŒƒå›´é”™è¯¯
```javascript
// âŒ é”™è¯¯ï¼šå¾ªç¯èŒƒå›´å¯èƒ½è¶Šç•Œ
function strStrWrong(haystack, needle) {
    for (let i = 0; i < haystack.length; i++) { // å¯èƒ½è¶Šç•Œ
        if (haystack.slice(i, i + needle.length) === needle) {
            return i;
        }
    }
}

// âœ… æ­£ç¡®ï¼šä¼˜åŒ–å¾ªç¯èŒƒå›´
function strStrCorrect(haystack, needle) {
    for (let i = 0; i <= haystack.length - needle.length; i++) {
        if (haystack.slice(i, i + needle.length) === needle) {
            return i;
        }
    }
}
```

### å­—ç¬¦ä¸²æ¯”è¾ƒæ•ˆç‡
```javascript
// âŒ æ•ˆç‡ä½ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²
function strStrSlow(haystack, needle) {
    for (let i = 0; i <= haystack.length - needle.length; i++) {
        if (haystack.slice(i, i + needle.length) === needle) {
            return i;
        }
    }
}

// âœ… æ•ˆç‡é«˜ï¼šå­—ç¬¦çº§æ¯”è¾ƒ
function strStrFast(haystack, needle) {
    for (let i = 0; i <= haystack.length - needle.length; i++) {
        let j = 0;
        while (j < needle.length && haystack[i + j] === needle[j]) {
            j++;
        }
        if (j === needle.length) return i;
    }
}
```

## ğŸ’­ å­¦ä¹ å¿ƒå¾—

### å¯¹ä½ çš„ç®—æ³•è¯„ä»·
1. **æ€è·¯æ­£ç¡®** âœ…ï¼šæš´åŠ›åŒ¹é…æ˜¯å­—ç¬¦ä¸²åŒ¹é…çš„åŸºç¡€æ–¹æ³•
2. **å®ç°æ¸…æ™°** âœ…ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œé€»è¾‘æ˜“æ‡‚
3. **ç»“æœå‡†ç¡®** âœ…ï¼šèƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„åŒ¹é…ç»“æœ
4. **æœ‰ä¼˜åŒ–ç©ºé—´** ğŸ”„ï¼šå¯ä»¥å»æ‰é‡å¤æ£€æŸ¥ï¼Œæé«˜æ•ˆç‡

### ä¼˜åŒ–å»ºè®®
1. **å»æ‰é‡å¤æ£€æŸ¥**ï¼šä¸éœ€è¦å…ˆç”¨ `includes()` åˆ¤æ–­
2. **ä¼˜åŒ–å¾ªç¯èŒƒå›´**ï¼šé¿å…ä¸å¿…è¦çš„è¾¹ç•Œæ£€æŸ¥
3. **å­—ç¬¦çº§æ¯”è¾ƒ**ï¼šé¿å…åˆ›å»ºå­å­—ç¬¦ä¸²
4. **å­¦ä¹ é«˜çº§ç®—æ³•**ï¼šäº†è§£ KMPã€Boyer-Moore ç­‰ç®—æ³•

### è§£é¢˜æ¨¡æ¿
```javascript
function strStr(haystack, needle) {
    // 1. è¾¹ç•Œæ£€æŸ¥
    if (needle === "") return 0;
    if (needle.length > haystack.length) return -1;
    
    // 2. æš´åŠ›åŒ¹é…
    for (let i = 0; i <= haystack.length - needle.length; i++) {
        let j = 0;
        while (j < needle.length && haystack[i + j] === needle[j]) {
            j++;
        }
        if (j === needle.length) return i;
    }
    
    return -1;
}
```

### é¢è¯•è¦ç‚¹
- ğŸ¯ **å¤šç§è§£æ³•**ï¼šä»æš´åŠ›æ³•åˆ° KMP ç®—æ³•çš„æ¼”è¿›
- ğŸ¯ **å¤æ‚åº¦åˆ†æ**ï¼šæ¸…æ¥šå„ç§æ–¹æ³•çš„æ—¶ç©ºå¤æ‚åº¦
- ğŸ¯ **è¾¹ç•Œå¤„ç†**ï¼šç©ºå­—ç¬¦ä¸²ã€é•¿åº¦å…³ç³»ç­‰æƒ…å†µ
- ğŸ¯ **å®ç°ç»†èŠ‚**ï¼šå¾ªç¯èŒƒå›´ã€å­—ç¬¦æ¯”è¾ƒç­‰æŠ€å·§

### å®é™…åº”ç”¨åœºæ™¯
- ğŸ” **æ–‡æœ¬æœç´¢**ï¼šç¼–è¾‘å™¨å’ŒIDEä¸­çš„æŸ¥æ‰¾åŠŸèƒ½
- ğŸŒ **ç½‘é¡µæœç´¢**ï¼šæœç´¢å¼•æ“çš„å…³é”®è¯åŒ¹é…
- ğŸ§¬ **ç”Ÿç‰©ä¿¡æ¯**ï¼šDNAåºåˆ—åˆ†æå’Œæ¯”å¯¹
- ğŸ” **å®‰å…¨æ£€æµ‹**ï¼šæ¶æ„ä»£ç å’Œå…¥ä¾µæ£€æµ‹

---
*å­¦ä¹ æ—¥æœŸï¼š2024å¹´ | éš¾åº¦ï¼šâ­â­â­â˜†â˜†* 
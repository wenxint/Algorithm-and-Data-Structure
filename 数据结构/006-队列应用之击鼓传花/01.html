<!--
 * @ä½œè€…: kerwin
 * @æ–‡ä»¶: é˜Ÿåˆ—åº”ç”¨è¯¦è§£ - å‡»é¼“ä¼ èŠ±æ¸¸æˆ
 * @æè¿°: æ¼”ç¤ºé˜Ÿåˆ—æ•°æ®ç»“æ„åœ¨å‡»é¼“ä¼ èŠ±æ¸¸æˆä¸­çš„å®é™…åº”ç”¨
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é˜Ÿåˆ—åº”ç”¨ - å‡»é¼“ä¼ èŠ±æ¸¸æˆè¯¦è§£</title>
</head>

<body>
    <script>
        /**
         * é˜Ÿåˆ—æ•°æ®ç»“æ„ç±»
         *
         * æ ¸å¿ƒæ€æƒ³ï¼š
         * é˜Ÿåˆ—æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡ºï¼ˆFIFO - First In First Outï¼‰çš„æ•°æ®ç»“æ„
         * å°±åƒæ’é˜Ÿä¹°ç¥¨ï¼Œå…ˆæ¥çš„äººå…ˆè¢«æœåŠ¡
         *
         * ä¸»è¦ç‰¹ç‚¹ï¼š
         * - å…ˆè¿›å…ˆå‡ºï¼šæœ€å…ˆæ·»åŠ çš„å…ƒç´ æœ€å…ˆè¢«ç§»é™¤
         * - ä¸¤ç«¯æ“ä½œï¼šä¸€ç«¯å…¥é˜Ÿï¼ˆrearï¼‰ï¼Œä¸€ç«¯å‡ºé˜Ÿï¼ˆfrontï¼‰
         * - æœ‰åºå¤„ç†ï¼šä¿è¯å…ƒç´ æŒ‰ç…§åŠ å…¥é¡ºåºè¢«å¤„ç†
         *
         * åº”ç”¨åœºæ™¯ï¼š
         * - ä»»åŠ¡è°ƒåº¦ï¼šæ“ä½œç³»ç»Ÿçš„è¿›ç¨‹è°ƒåº¦
         * - ç¼“å†²åŒºï¼šé”®ç›˜è¾“å…¥ç¼“å†²ã€æ‰“å°é˜Ÿåˆ—
         * - å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼šBFSç®—æ³•å®ç°
         * - å‡»é¼“ä¼ èŠ±ï¼šå¾ªç¯æ·˜æ±°æ¸¸æˆ
         * - æ¶ˆæ¯é˜Ÿåˆ—ï¼šå¼‚æ­¥é€šä¿¡ç³»ç»Ÿ
         */
        class Queue {
            #items = {}      // ä½¿ç”¨å¯¹è±¡å­˜å‚¨é˜Ÿåˆ—å…ƒç´ ï¼Œæé«˜æ€§èƒ½
            #lowCount = 0    // é˜Ÿåˆ—å‰ç«¯æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ 
            #count = 0       // é˜Ÿåˆ—åç«¯æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæ’å…¥ä½ç½®

            /**
             * å‡ºé˜Ÿæ“ä½œ - ç§»é™¤å¹¶è¿”å›é˜Ÿåˆ—å‰ç«¯å…ƒç´ 
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * ä»é˜Ÿåˆ—å‰ç«¯ç§»é™¤å…ƒç´ ï¼Œä½“ç°FIFOç‰¹æ€§
             * ä½¿ç”¨å¯¹è±¡å­˜å‚¨é¿å…æ•°ç»„shiftæ“ä½œçš„O(n)å¤æ‚åº¦
             *
             * @returns {*} é˜Ÿåˆ—å‰ç«¯å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºåˆ™è¿”å›undefined
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            dequeue() {
                if (this.isEmpty()) {
                    return undefined
                }

                // è·å–å‰ç«¯å…ƒç´ 
                let res = this.#items[this.#lowCount]

                // åˆ é™¤å‰ç«¯å…ƒç´ å¹¶ç§»åŠ¨æŒ‡é’ˆ
                delete this.#items[this.#lowCount]
                this.#lowCount++

                return res
            }

            /**
             * å…¥é˜Ÿæ“ä½œ - å‘é˜Ÿåˆ—åç«¯æ·»åŠ å…ƒç´ 
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * åœ¨é˜Ÿåˆ—åç«¯æ·»åŠ æ–°å…ƒç´ ï¼Œä¿æŒFIFOé¡ºåº
             *
             * @param {*} data - è¦æ·»åŠ çš„å…ƒç´ 
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            enqueue(data) {
                this.#items[this.#count] = data
                this.#count++
            }

            /**
             * æŸ¥çœ‹é˜Ÿåˆ—å‰ç«¯å…ƒç´  - è¿”å›ä½†ä¸ç§»é™¤å‰ç«¯å…ƒç´ 
             *
             * @returns {*} é˜Ÿåˆ—å‰ç«¯å…ƒç´ 
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            front() {
                return this.#items[this.#lowCount]
            }

            /**
             * æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
             *
             * @returns {boolean} é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            isEmpty() {
                return this.size() === 0
            }

            /**
             * è·å–é˜Ÿåˆ—çš„å¤§å°
             *
             * @returns {number} é˜Ÿåˆ—ä¸­å…ƒç´ çš„æ•°é‡
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            size() {
                return this.#count - this.#lowCount
            }

            /**
             * æ¸…ç©ºé˜Ÿåˆ—
             *
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            clear() {
                this.#items = {}
                this.#count = 0
                this.#lowCount = 0
            }

            /**
             * å°†é˜Ÿåˆ—è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º
             *
             * @returns {string} é˜Ÿåˆ—çš„å­—ç¬¦ä¸²è¡¨ç¤º
             * @time O(n) - çº¿æ€§æ—¶é—´å¤æ‚åº¦
             * @space O(n) - çº¿æ€§ç©ºé—´å¤æ‚åº¦
             */
            toString() {
                let str = ""
                for (let i = this.#lowCount; i < this.#count; i++) {
                    str += `${this.#items[i]} `
                }
                return str
            }

            /**
             * è·å–é˜Ÿåˆ—çš„æ•°ç»„è¡¨ç¤ºï¼ˆç”¨äºè°ƒè¯•ï¼‰
             *
             * @returns {Array} é˜Ÿåˆ—å…ƒç´ çš„æ•°ç»„
             * @time O(n) - çº¿æ€§æ—¶é—´å¤æ‚åº¦
             * @space O(n) - çº¿æ€§ç©ºé—´å¤æ‚åº¦
             */
            toArray() {
                let arr = []
                for (let i = this.#lowCount; i < this.#count; i++) {
                    arr.push(this.#items[i])
                }
                return arr
            }
        }

        console.log('=== é˜Ÿåˆ—åº”ç”¨ - å‡»é¼“ä¼ èŠ±æ¸¸æˆè¯¦è§£ ===\n');

        // ==================== 1. å‡»é¼“ä¼ èŠ±æ¸¸æˆç®—æ³• ====================
        console.log('1. å‡»é¼“ä¼ èŠ±æ¸¸æˆç®—æ³•æ¼”ç¤º');

        /**
         * å‡»é¼“ä¼ èŠ±æ¸¸æˆ
         *
         * æ ¸å¿ƒæ€æƒ³ï¼š
         * ä½¿ç”¨é˜Ÿåˆ—æ¨¡æ‹Ÿå¾ªç¯æ·˜æ±°è¿‡ç¨‹
         * 1. æ‰€æœ‰ç©å®¶å…¥é˜Ÿ
         * 2. æŒ‰æŒ‡å®šæ­¥æ•°å¾ªç¯ä¼ é€’ï¼ˆå‡ºé˜Ÿå†å…¥é˜Ÿï¼‰
         * 3. åˆ°è¾¾æŒ‡å®šæ­¥æ•°æ—¶æ·˜æ±°å½“å‰ç©å®¶ï¼ˆå‡ºé˜Ÿä¸å…¥é˜Ÿï¼‰
         * 4. é‡å¤æ­¥éª¤2-3ç›´åˆ°åªå‰©ä¸€ä¸ªç©å®¶
         *
         * ä¸ºä»€ä¹ˆä½¿ç”¨é˜Ÿåˆ—ï¼š
         * - FIFOç‰¹æ€§ä¿è¯äº†å¾ªç¯ä¼ é€’çš„é¡ºåº
         * - å‡ºé˜Ÿå†å…¥é˜Ÿæ¨¡æ‹Ÿäº†åœ†å½¢ä¼ é€’
         * - æœ€ç»ˆå‡ºé˜Ÿæ“ä½œå®ç°äº†æ·˜æ±°æœºåˆ¶
         *
         * @param {Array} list - å‚ä¸æ¸¸æˆçš„ç©å®¶åˆ—è¡¨
         * @param {number} num - ä¼ é€’çš„æ­¥æ•°
         * @returns {*} æœ€åçš„è·èƒœè€…
         * @time O(n*m) - nä¸ºç©å®¶æ•°é‡ï¼Œmä¸ºä¼ é€’æ­¥æ•°
         * @space O(n) - éœ€è¦å­˜å‚¨æ‰€æœ‰ç©å®¶
         */
        function game(list, num) {
            console.log(`\n--- å‡»é¼“ä¼ èŠ±æ¸¸æˆå¼€å§‹ ---`);
            console.log(`å‚ä¸è€…: [${list.join(', ')}]`);
            console.log(`ä¼ é€’æ­¥æ•°: ${num}`);
            console.log(`æ¸¸æˆè§„åˆ™: æ¯ä¼ é€’${num}æ­¥ï¼Œå½“å‰æŒèŠ±è€…è¢«æ·˜æ±°\n`);

            // åˆ›å»ºé˜Ÿåˆ—å¹¶å°†æ‰€æœ‰ç©å®¶å…¥é˜Ÿ
            let queue = new Queue()
            for (let i = 0; i < list.length; i++) {
                queue.enqueue(list[i])
            }

            console.log(`åˆå§‹é˜Ÿåˆ—: [${queue.toArray().join(', ')}]\n`);

            let round = 1;  // è½®æ¬¡è®¡æ•°

            // å½“é˜Ÿåˆ—ä¸­è¿˜æœ‰å¤šä¸ªç©å®¶æ—¶ç»§ç»­æ¸¸æˆ
            while (queue.size() > 1) {
                console.log(`--- ç¬¬${round}è½® ---`);
                console.log(`å½“å‰é˜Ÿåˆ—: [${queue.toArray().join(', ')}] (${queue.size()}äºº)`);

                // ä¼ é€’èŠ±æœµï¼ˆå‡ºé˜Ÿå†å…¥é˜Ÿï¼‰
                console.log(`å¼€å§‹ä¼ é€’${num}æ­¥:`);
                for (let i = 0; i < num; i++) {
                    let player = queue.dequeue();  // å‡ºé˜Ÿ
                    queue.enqueue(player);         // å†å…¥é˜Ÿ
                    console.log(`  æ­¥éª¤${i + 1}: ${player} ä¼ é€’èŠ±æœµ`);
                }

                // æ·˜æ±°å½“å‰æŒèŠ±è€…
                let eliminated = queue.dequeue();
                console.log(`ğŸ’¥ ${eliminated} è¢«æ·˜æ±°äº†ï¼`);
                console.log(`å‰©ä½™ç©å®¶: [${queue.toArray().join(', ')}]\n`);

                round++;
            }

            // è·å–æœ€åçš„è·èƒœè€…
            let winner = queue.dequeue();
            console.log(`ğŸ‰ æ¸¸æˆç»“æŸï¼è·èƒœè€…æ˜¯: ${winner}`);

            return winner;
        }

        // ==================== 2. åŸºç¡€æ¸¸æˆæ¼”ç¤º ====================
        console.log('2. åŸºç¡€æ¸¸æˆæ¼”ç¤º');

        // æ¼”ç¤ºç»å…¸çš„å‡»é¼“ä¼ èŠ±æ¸¸æˆ
        let players1 = ['Alice', 'Bob', 'Charlie', 'David', 'Eve'];
        let winner1 = game(players1, 3);

        // æ¼”ç¤ºä¸åŒæ­¥æ•°çš„æ¸¸æˆ
        console.log('\n' + '='.repeat(50));
        let players2 = ['å¼ ä¸‰', 'æå››', 'ç‹äº”', 'èµµå…­', 'å­™ä¸ƒ', 'å‘¨å…«'];
        let winner2 = game(players2, 2);

        // ==================== 3. æ¸¸æˆå˜ç§æ¼”ç¤º ====================
        console.log('\n\n3. æ¸¸æˆå˜ç§æ¼”ç¤º');

        /**
         * å¤šè½®å‡»é¼“ä¼ èŠ±æ¸¸æˆ
         * æ¯è½®ä½¿ç”¨ä¸åŒçš„ä¼ é€’æ­¥æ•°
         *
         * @param {Array} list - å‚ä¸æ¸¸æˆçš„ç©å®¶åˆ—è¡¨
         * @param {Array} steps - æ¯è½®çš„ä¼ é€’æ­¥æ•°æ•°ç»„
         * @returns {*} æœ€åçš„è·èƒœè€…
         */
        function multiRoundGame(list, steps) {
            console.log(`\n--- å¤šè½®å‡»é¼“ä¼ èŠ±æ¸¸æˆ ---`);
            console.log(`å‚ä¸è€…: [${list.join(', ')}]`);
            console.log(`æ¯è½®æ­¥æ•°: [${steps.join(', ')}]`);

            let queue = new Queue();
            for (let player of list) {
                queue.enqueue(player);
            }

            let stepIndex = 0;
            let round = 1;

            while (queue.size() > 1) {
                let currentSteps = steps[stepIndex % steps.length];
                console.log(`\n--- ç¬¬${round}è½® (æ­¥æ•°: ${currentSteps}) ---`);
                console.log(`å½“å‰é˜Ÿåˆ—: [${queue.toArray().join(', ')}]`);

                // ä¼ é€’æŒ‡å®šæ­¥æ•°
                for (let i = 0; i < currentSteps; i++) {
                    let player = queue.dequeue();
                    queue.enqueue(player);
                }

                // æ·˜æ±°å½“å‰ç©å®¶
                let eliminated = queue.dequeue();
                console.log(`ğŸ’¥ ${eliminated} è¢«æ·˜æ±°äº†ï¼`);

                stepIndex++;
                round++;
            }

            let winner = queue.dequeue();
            console.log(`\nğŸ‰ å¤šè½®æ¸¸æˆè·èƒœè€…: ${winner}`);
            return winner;
        }

        // æ¼”ç¤ºå¤šè½®æ¸¸æˆ
        let players3 = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];
        let steps = [2, 3, 4, 5];
        multiRoundGame(players3, steps);

        // ==================== 4. æ¸¸æˆç»Ÿè®¡åˆ†æ ====================
        console.log('\n\n4. æ¸¸æˆç»Ÿè®¡åˆ†æ');

        /**
         * æ¸¸æˆç»Ÿè®¡åˆ†æå™¨
         * åˆ†æä¸åŒå‚æ•°ä¸‹çš„æ¸¸æˆç»“æœ
         *
         * @param {Array} players - ç©å®¶åˆ—è¡¨
         * @param {number} steps - ä¼ é€’æ­¥æ•°
         * @param {number} simulations - æ¨¡æ‹Ÿæ¬¡æ•°
         */
        function gameStatistics(players, steps, simulations) {
            console.log(`\n--- æ¸¸æˆç»Ÿè®¡åˆ†æ ---`);
            console.log(`ç©å®¶æ•°é‡: ${players.length}`);
            console.log(`ä¼ é€’æ­¥æ•°: ${steps}`);
            console.log(`æ¨¡æ‹Ÿæ¬¡æ•°: ${simulations}`);

            let winnerCount = {};
            let eliminationOrder = {};

            // åˆå§‹åŒ–ç»Ÿè®¡æ•°æ®
            for (let player of players) {
                winnerCount[player] = 0;
                eliminationOrder[player] = [];
            }

            // è¿›è¡Œå¤šæ¬¡æ¨¡æ‹Ÿ
            for (let sim = 0; sim < simulations; sim++) {
                let queue = new Queue();
                let currentPlayers = [...players];

                // éšæœºæ‰“ä¹±ç©å®¶é¡ºåº
                for (let i = currentPlayers.length - 1; i > 0; i--) {
                    let j = Math.floor(Math.random() * (i + 1));
                    [currentPlayers[i], currentPlayers[j]] = [currentPlayers[j], currentPlayers[i]];
                }

                // ç©å®¶å…¥é˜Ÿ
                for (let player of currentPlayers) {
                    queue.enqueue(player);
                }

                let eliminationRound = 1;

                // æ¸¸æˆè¿›è¡Œ
                while (queue.size() > 1) {
                    // ä¼ é€’
                    for (let i = 0; i < steps; i++) {
                        let player = queue.dequeue();
                        queue.enqueue(player);
                    }

                    // æ·˜æ±°
                    let eliminated = queue.dequeue();
                    eliminationOrder[eliminated].push(eliminationRound);
                    eliminationRound++;
                }

                // è®°å½•è·èƒœè€…
                let winner = queue.dequeue();
                winnerCount[winner]++;
            }

            // è¾“å‡ºç»Ÿè®¡ç»“æœ
            console.log('\nè·èƒœç»Ÿè®¡:');
            for (let player of players) {
                let winRate = (winnerCount[player] / simulations * 100).toFixed(1);
                console.log(`${player}: ${winnerCount[player]}æ¬¡ (${winRate}%)`);
            }

            console.log('\nå¹³å‡æ·˜æ±°è½®æ¬¡:');
            for (let player of players) {
                if (eliminationOrder[player].length > 0) {
                    let avgRound = eliminationOrder[player].reduce((a, b) => a + b, 0) / eliminationOrder[player].length;
                    console.log(`${player}: ç¬¬${avgRound.toFixed(1)}è½®`);
                } else {
                    console.log(`${player}: ä»æœªè¢«æ·˜æ±°`);
                }
            }
        }

        // è¿›è¡Œç»Ÿè®¡åˆ†æ
        gameStatistics(['A', 'B', 'C', 'D', 'E'], 3, 1000);

        // ==================== 5. å®é™…åº”ç”¨åœºæ™¯ ====================
        console.log('\n\n5. é˜Ÿåˆ—çš„å®é™…åº”ç”¨åœºæ™¯');

        /**
         * ä»»åŠ¡è°ƒåº¦å™¨
         * æ¨¡æ‹Ÿæ“ä½œç³»ç»Ÿçš„ä»»åŠ¡è°ƒåº¦
         */
        class TaskScheduler {
            constructor() {
                this.taskQueue = new Queue();
                this.currentTime = 0;
            }

            /**
             * æ·»åŠ ä»»åŠ¡
             * @param {string} taskName - ä»»åŠ¡åç§°
             * @param {number} duration - ä»»åŠ¡æŒç»­æ—¶é—´
             * @param {number} priority - ä»»åŠ¡ä¼˜å…ˆçº§
             */
            addTask(taskName, duration, priority = 1) {
                let task = {
                    name: taskName,
                    duration: duration,
                    priority: priority,
                    arrivalTime: this.currentTime
                };

                this.taskQueue.enqueue(task);
                console.log(`ä»»åŠ¡ "${taskName}" å·²åŠ å…¥é˜Ÿåˆ— (æŒç»­æ—¶é—´: ${duration}ms, ä¼˜å…ˆçº§: ${priority})`);
            }

            /**
             * æ‰§è¡Œä»»åŠ¡
             */
            executeTasks() {
                console.log('\n--- å¼€å§‹æ‰§è¡Œä»»åŠ¡ ---');

                while (!this.taskQueue.isEmpty()) {
                    let task = this.taskQueue.dequeue();
                    console.log(`\næ‰§è¡Œä»»åŠ¡: ${task.name}`);
                    console.log(`  åˆ°è¾¾æ—¶é—´: ${task.arrivalTime}ms`);
                    console.log(`  å¼€å§‹æ—¶é—´: ${this.currentTime}ms`);
                    console.log(`  æŒç»­æ—¶é—´: ${task.duration}ms`);

                    // æ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œ
                    this.currentTime += task.duration;

                    console.log(`  å®Œæˆæ—¶é—´: ${this.currentTime}ms`);
                    console.log(`  ç­‰å¾…æ—¶é—´: ${this.currentTime - task.arrivalTime - task.duration}ms`);
                }

                console.log(`\næ‰€æœ‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ€»è€—æ—¶: ${this.currentTime}ms`);
            }

            /**
             * æ˜¾ç¤ºå½“å‰é˜Ÿåˆ—çŠ¶æ€
             */
            showQueue() {
                console.log('\nå½“å‰ä»»åŠ¡é˜Ÿåˆ—:');
                let tasks = this.taskQueue.toArray();
                if (tasks.length === 0) {
                    console.log('  é˜Ÿåˆ—ä¸ºç©º');
                } else {
                    tasks.forEach((task, index) => {
                        console.log(`  ${index + 1}. ${task.name} (${task.duration}ms)`);
                    });
                }
            }
        }

        // æ¼”ç¤ºä»»åŠ¡è°ƒåº¦å™¨
        console.log('\n--- ä»»åŠ¡è°ƒåº¦å™¨æ¼”ç¤º ---');
        let scheduler = new TaskScheduler();

        scheduler.addTask('è¯»å–æ–‡ä»¶', 100);
        scheduler.addTask('æ•°æ®å¤„ç†', 200);
        scheduler.addTask('ç½‘ç»œè¯·æ±‚', 150);
        scheduler.addTask('æ¸²æŸ“ç•Œé¢', 80);
        scheduler.addTask('ä¿å­˜æ•°æ®', 120);

        scheduler.showQueue();
        scheduler.executeTasks();

        /**
         * ç¼“å†²åŒºæ¨¡æ‹Ÿå™¨
         * æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥ç¼“å†²åŒº
         */
        class InputBuffer {
            constructor(maxSize = 10) {
                this.buffer = new Queue();
                this.maxSize = maxSize;
                this.processed = [];
            }

            /**
             * æ·»åŠ è¾“å…¥å­—ç¬¦
             * @param {string} char - è¾“å…¥å­—ç¬¦
             */
            addInput(char) {
                if (this.buffer.size() >= this.maxSize) {
                    console.log(`âŒ ç¼“å†²åŒºå·²æ»¡ï¼Œä¸¢å¼ƒå­—ç¬¦: ${char}`);
                    return false;
                }

                this.buffer.enqueue(char);
                console.log(`è¾“å…¥å­—ç¬¦: ${char}, ç¼“å†²åŒº: [${this.buffer.toArray().join('')}]`);
                return true;
            }

            /**
             * å¤„ç†ç¼“å†²åŒºä¸­çš„å­—ç¬¦
             * @param {number} count - å¤„ç†çš„å­—ç¬¦æ•°é‡
             */
            processInput(count = 1) {
                console.log(`\nå¤„ç† ${count} ä¸ªå­—ç¬¦:`);

                for (let i = 0; i < count && !this.buffer.isEmpty(); i++) {
                    let char = this.buffer.dequeue();
                    this.processed.push(char);
                    console.log(`  å¤„ç†å­—ç¬¦: ${char}`);
                }

                console.log(`å¤„ç†å®Œæˆï¼Œå‰©ä½™ç¼“å†²åŒº: [${this.buffer.toArray().join('')}]`);
                console.log(`å·²å¤„ç†å­—ç¬¦: ${this.processed.join('')}`);
            }

            /**
             * è·å–ç¼“å†²åŒºçŠ¶æ€
             */
            getStatus() {
                return {
                    bufferSize: this.buffer.size(),
                    maxSize: this.maxSize,
                    processed: this.processed.join(''),
                    pending: this.buffer.toArray().join('')
                };
            }
        }

        // æ¼”ç¤ºè¾“å…¥ç¼“å†²åŒº
        console.log('\n--- è¾“å…¥ç¼“å†²åŒºæ¼”ç¤º ---');
        let inputBuffer = new InputBuffer(5);

        // æ¨¡æ‹Ÿå¿«é€Ÿè¾“å…¥
        let input = "Hello World!";
        for (let char of input) {
            inputBuffer.addInput(char);
        }

        // æ¨¡æ‹Ÿå¤„ç†è¿‡ç¨‹
        inputBuffer.processInput(3);
        inputBuffer.processInput(2);
        inputBuffer.processInput(10);

        console.log('\næœ€ç»ˆçŠ¶æ€:', inputBuffer.getStatus());

        // ==================== 6. æ€§èƒ½æµ‹è¯• ====================
        console.log('\n\n6. é˜Ÿåˆ—æ“ä½œæ€§èƒ½æµ‹è¯•');

        /**
         * é˜Ÿåˆ—æ€§èƒ½æµ‹è¯•
         */
        function performanceTest() {
            console.log('\n--- é˜Ÿåˆ—æ€§èƒ½æµ‹è¯• ---');

            let queue = new Queue();
            let testSize = 100000;

            // æµ‹è¯•å…¥é˜Ÿæ€§èƒ½
            console.log(`\næµ‹è¯• ${testSize} æ¬¡å…¥é˜Ÿæ“ä½œ...`);
            let startTime = performance.now();

            for (let i = 0; i < testSize; i++) {
                queue.enqueue(i);
            }

            let endTime = performance.now();
            console.log(`å…¥é˜Ÿå®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
            console.log(`é˜Ÿåˆ—å¤§å°: ${queue.size()}`);

            // æµ‹è¯•å‡ºé˜Ÿæ€§èƒ½
            console.log(`\næµ‹è¯• ${testSize} æ¬¡å‡ºé˜Ÿæ“ä½œ...`);
            startTime = performance.now();

            while (!queue.isEmpty()) {
                queue.dequeue();
            }

            endTime = performance.now();
            console.log(`å‡ºé˜Ÿå®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
            console.log(`é˜Ÿåˆ—å¤§å°: ${queue.size()}`);

            // æµ‹è¯•æ··åˆæ“ä½œ
            console.log(`\næµ‹è¯•æ··åˆæ“ä½œ...`);
            startTime = performance.now();

            for (let i = 0; i < testSize / 2; i++) {
                queue.enqueue(i);
                if (i % 3 === 0 && !queue.isEmpty()) {
                    queue.dequeue();
                }
            }

            endTime = performance.now();
            console.log(`æ··åˆæ“ä½œå®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
            console.log(`æœ€ç»ˆé˜Ÿåˆ—å¤§å°: ${queue.size()}`);
        }

        performanceTest();

        // ==================== 7. ç®—æ³•åˆ†ææ€»ç»“ ====================
        console.log('\n\n7. é˜Ÿåˆ—æ•°æ®ç»“æ„ç®—æ³•åˆ†ææ€»ç»“');

        console.log('\næ—¶é—´å¤æ‚åº¦åˆ†æ:');
        console.log('- å…¥é˜Ÿ enqueue(): O(1) - å¸¸æ•°æ—¶é—´');
        console.log('- å‡ºé˜Ÿ dequeue(): O(1) - å¸¸æ•°æ—¶é—´');
        console.log('- æŸ¥çœ‹é˜Ÿé¦– front(): O(1) - å¸¸æ•°æ—¶é—´');
        console.log('- æ£€æŸ¥æ˜¯å¦ä¸ºç©º isEmpty(): O(1) - å¸¸æ•°æ—¶é—´');
        console.log('- è·å–å¤§å° size(): O(1) - å¸¸æ•°æ—¶é—´');
        console.log('- æ¸…ç©ºé˜Ÿåˆ— clear(): O(1) - å¸¸æ•°æ—¶é—´');

        console.log('\nç©ºé—´å¤æ‚åº¦: O(n) - éœ€è¦å­˜å‚¨nä¸ªå…ƒç´ ');

        console.log('\né˜Ÿåˆ—çš„ä¼˜åŠ¿:');
        console.log('- å…¬å¹³æ€§ï¼šå…ˆæ¥å…ˆæœåŠ¡ï¼Œä¿è¯é¡ºåº');
        console.log('- æ•ˆç‡é«˜ï¼šæ‰€æœ‰åŸºæœ¬æ“ä½œéƒ½æ˜¯O(1)');
        console.log('- ç¼“å†²ä½œç”¨ï¼šå¹³è¡¡ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é€Ÿåº¦');
        console.log('- å¼‚æ­¥å¤„ç†ï¼šæ”¯æŒä»»åŠ¡çš„å¼‚æ­¥æ‰§è¡Œ');
        console.log('- èµ„æºç®¡ç†ï¼šåˆç†åˆ†é…ç³»ç»Ÿèµ„æº');

        console.log('\né˜Ÿåˆ—çš„åº”ç”¨åœºæ™¯:');
        console.log('- ä»»åŠ¡è°ƒåº¦ï¼šæ“ä½œç³»ç»Ÿè¿›ç¨‹è°ƒåº¦');
        console.log('- ç¼“å†²åŒºï¼šI/Oæ“ä½œç¼“å†²');
        console.log('- æ¶ˆæ¯é˜Ÿåˆ—ï¼šç³»ç»Ÿé—´å¼‚æ­¥é€šä¿¡');
        console.log('- å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼šBFSç®—æ³•å®ç°');
        console.log('- æ‰“å°é˜Ÿåˆ—ï¼šæ‰“å°ä»»åŠ¡ç®¡ç†');
        console.log('- ç½‘ç»œæ•°æ®åŒ…ï¼šæ•°æ®åŒ…ä¼ è¾“é˜Ÿåˆ—');
        console.log('- æ¸¸æˆå¼€å‘ï¼šå‡»é¼“ä¼ èŠ±ç­‰å¾ªç¯æ¸¸æˆ');

        console.log('\nå‡»é¼“ä¼ èŠ±ç®—æ³•ç‰¹ç‚¹:');
        console.log('- æ ¸å¿ƒæ€æƒ³ï¼šå¾ªç¯ä¼ é€’ï¼Œå®šæ—¶æ·˜æ±°');
        console.log('- ä¸ºä»€ä¹ˆç”¨é˜Ÿåˆ—ï¼šFIFOä¿è¯ä¼ é€’é¡ºåº');
        console.log('- æ—¶é—´å¤æ‚åº¦ï¼šO(n*m) - nä¸ºäººæ•°ï¼Œmä¸ºä¼ é€’æ­¥æ•°');
        console.log('- ç©ºé—´å¤æ‚åº¦ï¼šO(n) - å­˜å‚¨æ‰€æœ‰å‚ä¸è€…');
        console.log('- å®é™…åº”ç”¨ï¼šæ¸¸æˆå¼€å‘ã€èµ„æºè½®è¯¢åˆ†é…');

        console.log('\né˜Ÿåˆ— vs æ ˆçš„åŒºåˆ«:');
        console.log('- é˜Ÿåˆ—ï¼šFIFOï¼Œä¸¤ç«¯æ“ä½œï¼Œé€‚åˆæ’é˜Ÿåœºæ™¯');
        console.log('- æ ˆï¼šLIFOï¼Œä¸€ç«¯æ“ä½œï¼Œé€‚åˆé€’å½’åœºæ™¯');
        console.log('- é˜Ÿåˆ—ï¼šä¿æŒé¡ºåºï¼Œå…¬å¹³å¤„ç†');
        console.log('- æ ˆï¼šé€†åºå¤„ç†ï¼Œåè¿›å…ˆå‡º');

        console.log('\n=== é˜Ÿåˆ—åº”ç”¨æ¼”ç¤ºå®Œæ¯• ===');
    </script>
</body>

</html>
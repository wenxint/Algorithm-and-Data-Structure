<!--
 * @ä½œè€…: kerwin
 * @æ–‡ä»¶: é“¾è¡¨æ•°æ®ç»“æ„è¿›é˜¶ - å®Œæ•´å®ç°
 * @æè¿°: æ¼”ç¤ºé“¾è¡¨æ•°æ®ç»“æ„çš„å®Œæ•´å®ç°ï¼ŒåŒ…å«æ‰€æœ‰æ ¸å¿ƒæ–¹æ³•
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é“¾è¡¨æ•°æ®ç»“æ„è¿›é˜¶è¯¦è§£</title>
</head>
<body>
    <script>
        /**
         * é“¾è¡¨èŠ‚ç‚¹ç±»
         *
         * æ ¸å¿ƒæ€æƒ³ï¼š
         * é“¾è¡¨çš„åŸºæœ¬ç»„æˆå•å…ƒï¼ŒåŒ…å«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
         * æ¯ä¸ªèŠ‚ç‚¹åªçŸ¥é“ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼Œä¸çŸ¥é“å‰ä¸€ä¸ªèŠ‚ç‚¹
         *
         * @class Node
         */
        class Node {
            /**
             * åˆ›å»ºé“¾è¡¨èŠ‚ç‚¹
             *
             * @param {*} element - èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®
             */
            constructor(element) {
                this.element = element;  // èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®
                this.next = null;       // æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
            }
        }

        /**
         * å•å‘é“¾è¡¨ç±» - å®Œæ•´å®ç°
         *
         * æ ¸å¿ƒæ€æƒ³ï¼š
         * é“¾è¡¨æ˜¯ä¸€ç§åŠ¨æ€æ•°æ®ç»“æ„ï¼Œç”±ä¸€ç³»åˆ—èŠ‚ç‚¹ç»„æˆ
         * æ¯ä¸ªèŠ‚ç‚¹åŒ…å«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
         *
         * ä¸»è¦ç‰¹ç‚¹ï¼š
         * - åŠ¨æ€å¤§å°ï¼šå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€å¢é•¿å’Œç¼©å‡
         * - éè¿ç»­å­˜å‚¨ï¼šèŠ‚ç‚¹åœ¨å†…å­˜ä¸­ä¸è¿ç»­å­˜å‚¨
         * - æ’å…¥åˆ é™¤é«˜æ•ˆï¼šåœ¨å·²çŸ¥ä½ç½®æ’å…¥åˆ é™¤æ˜¯O(1)
         * - é¡ºåºè®¿é—®ï¼šåªèƒ½ä»å¤´èŠ‚ç‚¹å¼€å§‹é¡ºåºè®¿é—®
         *
         * ä¼˜åŠ¿ï¼š
         * - åŠ¨æ€å†…å­˜åˆ†é…ï¼Œä¸æµªè´¹ç©ºé—´
         * - æ’å…¥åˆ é™¤ä¸éœ€è¦ç§»åŠ¨å…¶ä»–å…ƒç´ 
         * - å®ç°æ ˆã€é˜Ÿåˆ—ç­‰æ•°æ®ç»“æ„çš„åŸºç¡€
         *
         * åŠ£åŠ¿ï¼š
         * - éšæœºè®¿é—®æ…¢ï¼Œéœ€è¦O(n)æ—¶é—´
         * - é¢å¤–çš„å†…å­˜å¼€é”€ï¼ˆå­˜å‚¨æŒ‡é’ˆï¼‰
         * - ä¸åˆ©äºç¼“å­˜ï¼Œå†…å­˜è®¿é—®ä¸è¿ç»­
         *
         * åº”ç”¨åœºæ™¯ï¼š
         * - é¢‘ç¹æ’å…¥åˆ é™¤çš„åœºæ™¯
         * - æ•°æ®å¤§å°ä¸ç¡®å®šçš„åœºæ™¯
         * - å®ç°å…¶ä»–æ•°æ®ç»“æ„ï¼ˆæ ˆã€é˜Ÿåˆ—ï¼‰
         * - æ’¤é”€åŠŸèƒ½çš„å®ç°
         * - éŸ³ä¹æ’­æ”¾åˆ—è¡¨
         *
         * @class LinkedList
         */
        class LinkedList {
            /**
             * åˆ›å»ºç©ºé“¾è¡¨
             */
            constructor() {
                this.count = 0;        // é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡
                this.head = null;      // æŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
            }

            /**
             * å‘é“¾è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ 
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * 1. åˆ›å»ºæ–°èŠ‚ç‚¹
             * 2. å¦‚æœé“¾è¡¨ä¸ºç©ºï¼Œæ–°èŠ‚ç‚¹æˆä¸ºå¤´èŠ‚ç‚¹
             * 3. å¦‚æœé“¾è¡¨ä¸ä¸ºç©ºï¼Œéå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†å…¶nextæŒ‡å‘æ–°èŠ‚ç‚¹
             *
             * @param {*} element - è¦æ·»åŠ çš„å…ƒç´ 
             * @time O(n) - éœ€è¦éå†åˆ°é“¾è¡¨æœ«å°¾
             * @space O(1) - åªåˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹
             */
            push(element) {
                const node = new Node(element);

                // æƒ…å†µ1ï¼šé“¾è¡¨ä¸ºç©ºï¼Œæ–°èŠ‚ç‚¹æˆä¸ºå¤´èŠ‚ç‚¹
                if (this.head === null) {
                    this.head = node;
                } else {
                    // æƒ…å†µ2ï¼šé“¾è¡¨ä¸ä¸ºç©ºï¼Œéå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹
                    let current = this.head;

                    // æ‰¾åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼ˆnextä¸ºnullçš„èŠ‚ç‚¹ï¼‰
                    while (current.next !== null) {
                        current = current.next;
                    }

                    // å°†æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹
                    current.next = node;
                }

                this.count++;
            }

            /**
             * ç§»é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ 
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * 1. éªŒè¯ç´¢å¼•çš„æœ‰æ•ˆæ€§
             * 2. å¦‚æœæ˜¯åˆ é™¤å¤´èŠ‚ç‚¹ï¼Œç›´æ¥æ›´æ–°headæŒ‡é’ˆ
             * 3. å¦‚æœæ˜¯åˆ é™¤å…¶ä»–èŠ‚ç‚¹ï¼Œæ‰¾åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ›´æ–°å…¶nextæŒ‡é’ˆ
             *
             * @param {number} index - è¦ç§»é™¤çš„å…ƒç´ ç´¢å¼•
             * @returns {*} è¢«ç§»é™¤çš„å…ƒç´ ï¼Œå¦‚æœç´¢å¼•æ— æ•ˆè¿”å›undefined
             * @time O(n) - æœ€åæƒ…å†µéœ€è¦éå†åˆ°æŒ‡å®šä½ç½®
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            removeAt(index) {
                // è¾¹ç•Œæ£€æŸ¥ï¼šç´¢å¼•å¿…é¡»åœ¨æœ‰æ•ˆèŒƒå›´å†…
                if (index >= 0 && index < this.count) {
                    let current = this.head;

                    // æƒ…å†µ1ï¼šåˆ é™¤å¤´èŠ‚ç‚¹
                    if (index === 0) {
                        this.head = this.head.next;
                    } else {
                        // æƒ…å†µ2ï¼šåˆ é™¤å…¶ä»–èŠ‚ç‚¹
                        let previous;

                        // éå†åˆ°ç›®æ ‡ä½ç½®ï¼ŒåŒæ—¶è®°å½•å‰ä¸€ä¸ªèŠ‚ç‚¹
                        for (let i = 0; i < index; i++) {
                            previous = current;
                            current = current.next;
                        }

                        // å°†å‰ä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
                        // è¿™æ ·å°±è·³è¿‡äº†å½“å‰èŠ‚ç‚¹ï¼Œå®ç°åˆ é™¤
                        previous.next = current.next;
                    }

                    this.count--;
                    return current.element;
                }

                return undefined;
            }

            /**
             * è·å–æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * ä»å¤´èŠ‚ç‚¹å¼€å§‹ï¼ŒæŒ‰ç…§ç´¢å¼•éå†åˆ°ç›®æ ‡ä½ç½®
             * è¿™æ˜¯ä¸€ä¸ªè¾…åŠ©æ–¹æ³•ï¼Œç”¨äºå…¶ä»–æ–¹æ³•çš„å®ç°
             *
             * @param {number} index - èŠ‚ç‚¹ç´¢å¼•
             * @returns {Node|undefined} æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ï¼Œå¦‚æœç´¢å¼•æ— æ•ˆè¿”å›undefined
             * @time O(n) - éœ€è¦éå†åˆ°æŒ‡å®šä½ç½®
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            getNodeAt(index) {
                // è¾¹ç•Œæ£€æŸ¥
                if (index >= 0 && index < this.count) {
                    let node = this.head;

                    // ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†indexæ¬¡
                    for (let i = 0; i < index; i++) {
                        node = node.next;
                    }

                    return node;
                }

                return undefined;
            }

            /**
             * ç§»é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼ˆä¼˜åŒ–ç‰ˆæœ¬ï¼‰
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * ä½¿ç”¨getNodeAtæ–¹æ³•ç®€åŒ–ä»£ç ï¼Œæé«˜å¯è¯»æ€§
             * è¿™æ˜¯removeAtæ–¹æ³•çš„é‡æ„ç‰ˆæœ¬
             *
             * @param {number} index - è¦ç§»é™¤çš„å…ƒç´ ç´¢å¼•
             * @returns {*} è¢«ç§»é™¤çš„å…ƒç´ ï¼Œå¦‚æœç´¢å¼•æ— æ•ˆè¿”å›undefined
             * @time O(n) - éœ€è¦éå†åˆ°æŒ‡å®šä½ç½®
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            removeAt2(index) {
                if (index >= 0 && index < this.count) {
                    let current = this.head;

                    if (index === 0) {
                        this.head = this.head.next;
                    } else {
                        // ä½¿ç”¨getNodeAtè·å–å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»£ç æ›´ç®€æ´
                        let previous = this.getNodeAt(index - 1);
                        current = previous.next;
                        previous.next = current.next;
                    }

                    this.count--;
                    return current.element;
                }

                return undefined;
            }

            /**
             * å…ƒç´ ç›¸ç­‰æ€§æ¯”è¾ƒå‡½æ•°
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * æä¾›çµæ´»çš„å…ƒç´ æ¯”è¾ƒæœºåˆ¶ï¼Œæ”¯æŒåŸºæœ¬ç±»å‹å’Œå¯¹è±¡ç±»å‹
             * å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•ä¸ºæ·±åº¦æ¯”è¾ƒ
             *
             * @param {*} a - ç¬¬ä¸€ä¸ªå…ƒç´ 
             * @param {*} b - ç¬¬äºŒä¸ªå…ƒç´ 
             * @returns {boolean} ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰
             * @time O(1) - å¯¹äºç®€å•æ¯”è¾ƒï¼ŒO(n) - å¯¹äºJSON.stringify
             * @space O(1) - å¯¹äºç®€å•æ¯”è¾ƒï¼ŒO(n) - å¯¹äºJSON.stringify
             */
            equalFn(a, b) {
                // åŸºæœ¬ç±»å‹æ¯”è¾ƒ
                // return a === b;

                // å¯¹è±¡æ¯”è¾ƒçš„ç®€å•å®ç°ï¼ˆæ³¨æ„ï¼šè¿™ç§æ–¹æ³•æœ‰å±€é™æ€§ï¼‰
                // 1. åˆ¤æ–­æ˜¯å¯¹è±¡ï¼Œå¯¹è±¡1[key] === å¯¹è±¡2[key]
                // 2. åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå†™ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œæ·±åº¦æ£€æŸ¥æ˜¯å¦ç›¸ç­‰

                // ä½¿ç”¨JSONåºåˆ—åŒ–è¿›è¡Œæ¯”è¾ƒï¼ˆç®€å•ä½†ä¸å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼‰
                return JSON.stringify(a) === JSON.stringify(b);

                // æ³¨æ„ï¼šåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„æ·±åº¦æ¯”è¾ƒåº“
                // å¦‚lodashçš„isEqualæ–¹æ³•ï¼Œæˆ–è€…ä½¿ç”¨immutable.js
            }

            /**
             * æŸ¥æ‰¾å…ƒç´ çš„ç´¢å¼•
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†ï¼Œä½¿ç”¨ç›¸ç­‰æ€§æ¯”è¾ƒå‡½æ•°æŸ¥æ‰¾ç›®æ ‡å…ƒç´ 
             * è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ç´¢å¼•
             *
             * @param {*} element - è¦æŸ¥æ‰¾çš„å…ƒç´ 
             * @returns {number} å…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœæœªæ‰¾åˆ°è¿”å›-1
             * @time O(n) - æœ€åæƒ…å†µéœ€è¦éå†æ•´ä¸ªé“¾è¡¨
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            indexOf(element) {
                let current = this.head;

                // éå†é“¾è¡¨ï¼Œé€ä¸ªæ¯”è¾ƒå…ƒç´ 
                for (let i = 0; i < this.count; i++) {
                    if (this.equalFn(element, current.element)) {
                        return i;
                    }
                    current = current.next;
                }

                return -1;  // æœªæ‰¾åˆ°è¿”å›-1
            }

            /**
             * ç§»é™¤æŒ‡å®šå…ƒç´ 
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * å…ˆä½¿ç”¨indexOfæ‰¾åˆ°å…ƒç´ çš„ä½ç½®ï¼Œç„¶åä½¿ç”¨removeAtåˆ é™¤
             * è¿™æ˜¯ä¸€ä¸ªç»„åˆæ–¹æ³•ï¼Œä½“ç°äº†æ–¹æ³•çš„å¤ç”¨æ€§
             *
             * @param {*} element - è¦ç§»é™¤çš„å…ƒç´ 
             * @returns {*} è¢«ç§»é™¤çš„å…ƒç´ ï¼Œå¦‚æœå…ƒç´ ä¸å­˜åœ¨è¿”å›undefined
             * @time O(n) - indexOféœ€è¦O(n)ï¼ŒremoveAtéœ€è¦O(n)
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            remove(element) {
                // æ ¹æ®æ•°æ®è¿”å›ç´¢å¼•çš„æ–¹æ³•
                const index = this.indexOf(element);
                return this.removeAt(index);
            }

            /**
             * åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ 
             *
             * æ ¸å¿ƒæ€æƒ³ï¼š
             * 1. éªŒè¯ç´¢å¼•çš„æœ‰æ•ˆæ€§ï¼ˆå¯ä»¥ç­‰äºcountï¼Œè¡¨ç¤ºåœ¨æœ«å°¾æ’å…¥ï¼‰
             * 2. å¦‚æœåœ¨å¤´éƒ¨æ’å…¥ï¼Œæ›´æ–°headæŒ‡é’ˆ
             * 3. å¦‚æœåœ¨å…¶ä»–ä½ç½®æ’å…¥ï¼Œæ‰¾åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè°ƒæ•´æŒ‡é’ˆå…³ç³»
             *
             * @param {*} element - è¦æ’å…¥çš„å…ƒç´ 
             * @param {number} index - æ’å…¥ä½ç½®çš„ç´¢å¼•
             * @returns {boolean} æ’å…¥æ˜¯å¦æˆåŠŸ
             * @time O(n) - éœ€è¦éå†åˆ°æŒ‡å®šä½ç½®
             * @space O(1) - åªåˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹
             */
            insert(element, index) {
                // è¾¹ç•Œæ£€æŸ¥ï¼šå¯ä»¥åœ¨0åˆ°countä¹‹é—´çš„ä»»æ„ä½ç½®æ’å…¥
                if (index >= 0 && index <= this.count) {
                    const node = new Node(element);

                    // æƒ…å†µ1ï¼šåœ¨å¤´éƒ¨æ’å…¥
                    if (index === 0) {
                        const current = this.head;
                        node.next = current;  // æ–°èŠ‚ç‚¹æŒ‡å‘åŸå¤´èŠ‚ç‚¹
                        this.head = node;     // æ›´æ–°å¤´æŒ‡é’ˆ
                    } else {
                        // æƒ…å†µ2ï¼šåœ¨å…¶ä»–ä½ç½®æ’å…¥
                        const previous = this.getNodeAt(index - 1);  // æ‰¾åˆ°å‰ä¸€ä¸ªèŠ‚ç‚¹
                        const current = previous.next;               // å½“å‰ä½ç½®çš„èŠ‚ç‚¹

                        node.next = current;      // æ–°èŠ‚ç‚¹æŒ‡å‘å½“å‰èŠ‚ç‚¹
                        previous.next = node;     // å‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æ–°èŠ‚ç‚¹
                    }

                    this.count++;
                    return true;
                }

                return false;
            }

            /**
             * æ£€æŸ¥é“¾è¡¨æ˜¯å¦ä¸ºç©º
             *
             * @returns {boolean} é“¾è¡¨æ˜¯å¦ä¸ºç©º
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            isEmpty() {
                return this.size() === 0;
            }

            /**
             * è·å–é“¾è¡¨çš„å¤§å°
             *
             * @returns {number} é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            size() {
                return this.count;
            }

            /**
             * è·å–å¤´èŠ‚ç‚¹
             *
             * @returns {Node|null} å¤´èŠ‚ç‚¹
             * @time O(1) - å¸¸æ•°æ—¶é—´å¤æ‚åº¦
             * @space O(1) - å¸¸æ•°ç©ºé—´å¤æ‚åº¦
             */
            getHead() {
                return this.head;
            }

            /**
             * å°†é“¾è¡¨è½¬æ¢ä¸ºæ•°ç»„ï¼ˆç”¨äºè°ƒè¯•å’Œæ˜¾ç¤ºï¼‰
             *
             * @returns {Array} åŒ…å«æ‰€æœ‰å…ƒç´ çš„æ•°ç»„
             * @time O(n) - éœ€è¦éå†æ•´ä¸ªé“¾è¡¨
             * @space O(n) - éœ€è¦åˆ›å»ºæ–°æ•°ç»„
             */
            toArray() {
                let result = [];
                let current = this.head;

                while (current !== null) {
                    result.push(current.element);
                    current = current.next;
                }

                return result;
            }

            /**
             * å°†é“¾è¡¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²
             *
             * @returns {string} é“¾è¡¨çš„å­—ç¬¦ä¸²è¡¨ç¤º
             * @time O(n) - éœ€è¦éå†æ•´ä¸ªé“¾è¡¨
             * @space O(n) - éœ€è¦åˆ›å»ºå­—ç¬¦ä¸²
             */
            toString() {
                if (this.head === null) {
                    return '';
                }

                let objString = `${this.head.element}`;
                let current = this.head.next;

                while (current !== null) {
                    objString = `${objString},${current.element}`;
                    current = current.next;
                }

                return objString;
            }
        }

        console.log('=== é“¾è¡¨æ•°æ®ç»“æ„è¿›é˜¶è¯¦è§£ ===\n');

        // ==================== 1. åŸºç¡€æ“ä½œæ¼”ç¤º ====================
        console.log('1. é“¾è¡¨åŸºç¡€æ“ä½œæ¼”ç¤º');

        /**
         * æ¼”ç¤ºé“¾è¡¨çš„åŸºç¡€æ“ä½œ
         */
        function demonstrateBasicOperations() {
            console.log('\n--- åŸºç¡€æ“ä½œæ¼”ç¤º ---');

            var list = new LinkedList();
            console.log('åˆ›å»ºç©ºé“¾è¡¨');
            console.log(`åˆå§‹çŠ¶æ€: [${list.toArray().join(', ')}], å¤§å°: ${list.size()}`);

            // æ·»åŠ å…ƒç´ 
            console.log('\næ·»åŠ å…ƒç´ :');
            list.push('A');
            console.log(`push('A'): [${list.toArray().join(', ')}]`);

            list.push('B');
            console.log(`push('B'): [${list.toArray().join(', ')}]`);

            list.push('C');
            console.log(`push('C'): [${list.toArray().join(', ')}]`);

            // æ’å…¥å…ƒç´ 
            console.log('\næ’å…¥å…ƒç´ :');
            list.insert('X', 0);
            console.log(`insert('X', 0): [${list.toArray().join(', ')}]`);

            list.insert('Y', 2);
            console.log(`insert('Y', 2): [${list.toArray().join(', ')}]`);

            list.insert('Z', list.size());
            console.log(`insert('Z', ${list.size() - 1}): [${list.toArray().join(', ')}]`);

            // æŸ¥æ‰¾å…ƒç´ 
            console.log('\næŸ¥æ‰¾å…ƒç´ :');
            console.log(`indexOf('B'): ${list.indexOf('B')}`);
            console.log(`indexOf('Y'): ${list.indexOf('Y')}`);
            console.log(`indexOf('NotFound'): ${list.indexOf('NotFound')}`);

            // åˆ é™¤å…ƒç´ 
            console.log('\nåˆ é™¤å…ƒç´ :');
            let removed = list.removeAt(0);
            console.log(`removeAt(0): åˆ é™¤äº† '${removed}', å‰©ä½™: [${list.toArray().join(', ')}]`);

            removed = list.remove('Y');
            console.log(`remove('Y'): åˆ é™¤äº† '${removed}', å‰©ä½™: [${list.toArray().join(', ')}]`);

            console.log(`\næœ€ç»ˆçŠ¶æ€: [${list.toArray().join(', ')}], å¤§å°: ${list.size()}`);
        }

        demonstrateBasicOperations();

        // ==================== 2. å¯¹è±¡å…ƒç´ æ¼”ç¤º ====================
        console.log('\n\n2. å¯¹è±¡å…ƒç´ æ“ä½œæ¼”ç¤º');

        /**
         * æ¼”ç¤ºé“¾è¡¨å­˜å‚¨å¯¹è±¡çš„èƒ½åŠ›
         */
        function demonstrateObjectElements() {
            console.log('\n--- å¯¹è±¡å…ƒç´ æ¼”ç¤º ---');

            let list = new LinkedList();

            // æ·»åŠ å¯¹è±¡å…ƒç´ 
            let person1 = { name: 'å¼ ä¸‰', age: 25, city: 'åŒ—äº¬' };
            let person2 = { name: 'æå››', age: 30, city: 'ä¸Šæµ·' };
            let person3 = { name: 'ç‹äº”', age: 28, city: 'å¹¿å·' };

            list.push(person1);
            list.push(person2);
            list.push(person3);

            console.log('æ·»åŠ äº†3ä¸ªäººå‘˜å¯¹è±¡:');
            list.toArray().forEach((person, index) => {
                console.log(`  ${index}: ${person.name}, ${person.age}å², ${person.city}`);
            });

            // æŸ¥æ‰¾å¯¹è±¡
            console.log('\næŸ¥æ‰¾å¯¹è±¡:');
            let searchPerson = { name: 'æå››', age: 30, city: 'ä¸Šæµ·' };
            let index = list.indexOf(searchPerson);
            console.log(`æŸ¥æ‰¾ ${searchPerson.name}: ç´¢å¼• ${index}`);

            // åˆ é™¤å¯¹è±¡
            console.log('\nåˆ é™¤å¯¹è±¡:');
            let removed = list.remove(person2);
            console.log(`åˆ é™¤ ${removed.name}`);

            console.log('\nå‰©ä½™äººå‘˜:');
            list.toArray().forEach((person, index) => {
                console.log(`  ${index}: ${person.name}, ${person.age}å², ${person.city}`);
            });
        }

        demonstrateObjectElements();

        // ==================== 3. é“¾è¡¨åº”ç”¨ - éŸ³ä¹æ’­æ”¾åˆ—è¡¨ ====================
        console.log('\n\n3. å®é™…åº”ç”¨ - éŸ³ä¹æ’­æ”¾åˆ—è¡¨');

        /**
         * éŸ³ä¹æ’­æ”¾åˆ—è¡¨ç±»
         * ä½¿ç”¨é“¾è¡¨å®ç°éŸ³ä¹æ’­æ”¾åˆ—è¡¨çš„ç®¡ç†åŠŸèƒ½
         */
        class MusicPlaylist {
            constructor() {
                this.songs = new LinkedList();
                this.currentIndex = -1;
            }

            /**
             * æ·»åŠ æ­Œæ›²åˆ°æ’­æ”¾åˆ—è¡¨
             * @param {Object} song - æ­Œæ›²å¯¹è±¡
             */
            addSong(song) {
                this.songs.push(song);
                console.log(`æ·»åŠ æ­Œæ›²: ${song.title} - ${song.artist}`);

                // å¦‚æœæ˜¯ç¬¬ä¸€é¦–æ­Œï¼Œè®¾ä¸ºå½“å‰æ­Œæ›²
                if (this.songs.size() === 1) {
                    this.currentIndex = 0;
                }
            }

            /**
             * åœ¨æŒ‡å®šä½ç½®æ’å…¥æ­Œæ›²
             * @param {Object} song - æ­Œæ›²å¯¹è±¡
             * @param {number} position - æ’å…¥ä½ç½®
             */
            insertSong(song, position) {
                if (this.songs.insert(song, position)) {
                    console.log(`åœ¨ä½ç½® ${position} æ’å…¥æ­Œæ›²: ${song.title} - ${song.artist}`);

                    // è°ƒæ•´å½“å‰æ’­æ”¾ç´¢å¼•
                    if (position <= this.currentIndex) {
                        this.currentIndex++;
                    }
                } else {
                    console.log(`æ’å…¥å¤±è´¥: ä½ç½® ${position} æ— æ•ˆ`);
                }
            }

            /**
             * ç§»é™¤æ­Œæ›²
             * @param {string} title - æ­Œæ›²æ ‡é¢˜
             */
            removeSong(title) {
                let songs = this.songs.toArray();
                let targetSong = songs.find(song => song.title === title);

                if (targetSong) {
                    let removedIndex = this.songs.indexOf(targetSong);
                    this.songs.remove(targetSong);
                    console.log(`ç§»é™¤æ­Œæ›²: ${title}`);

                    // è°ƒæ•´å½“å‰æ’­æ”¾ç´¢å¼•
                    if (removedIndex < this.currentIndex) {
                        this.currentIndex--;
                    } else if (removedIndex === this.currentIndex) {
                        // å¦‚æœåˆ é™¤çš„æ˜¯å½“å‰æ­Œæ›²ï¼Œæ’­æ”¾ä¸‹ä¸€é¦–
                        if (this.currentIndex >= this.songs.size()) {
                            this.currentIndex = this.songs.size() - 1;
                        }
                    }
                } else {
                    console.log(`æœªæ‰¾åˆ°æ­Œæ›²: ${title}`);
                }
            }

            /**
             * æ’­æ”¾å½“å‰æ­Œæ›²
             */
            play() {
                if (this.songs.isEmpty()) {
                    console.log('æ’­æ”¾åˆ—è¡¨ä¸ºç©º');
                    return;
                }

                let currentSong = this.songs.toArray()[this.currentIndex];
                console.log(`ğŸµ æ­£åœ¨æ’­æ”¾: ${currentSong.title} - ${currentSong.artist} (${currentSong.duration})`);
            }

            /**
             * ä¸‹ä¸€é¦–æ­Œæ›²
             */
            next() {
                if (this.songs.isEmpty()) {
                    console.log('æ’­æ”¾åˆ—è¡¨ä¸ºç©º');
                    return;
                }

                this.currentIndex = (this.currentIndex + 1) % this.songs.size();
                console.log('â­ï¸ ä¸‹ä¸€é¦–');
                this.play();
            }

            /**
             * ä¸Šä¸€é¦–æ­Œæ›²
             */
            previous() {
                if (this.songs.isEmpty()) {
                    console.log('æ’­æ”¾åˆ—è¡¨ä¸ºç©º');
                    return;
                }

                this.currentIndex = this.currentIndex === 0 ? this.songs.size() - 1 : this.currentIndex - 1;
                console.log('â®ï¸ ä¸Šä¸€é¦–');
                this.play();
            }

            /**
             * æ˜¾ç¤ºæ’­æ”¾åˆ—è¡¨
             */
            showPlaylist() {
                console.log('\n--- æ’­æ”¾åˆ—è¡¨ ---');
                if (this.songs.isEmpty()) {
                    console.log('æ’­æ”¾åˆ—è¡¨ä¸ºç©º');
                    return;
                }

                this.songs.toArray().forEach((song, index) => {
                    let current = index === this.currentIndex ? 'ğŸµ' : '  ';
                    console.log(`${current} ${index + 1}. ${song.title} - ${song.artist} (${song.duration})`);
                });
            }

            /**
             * éšæœºæ’­æ”¾
             */
            shuffle() {
                if (this.songs.isEmpty()) {
                    console.log('æ’­æ”¾åˆ—è¡¨ä¸ºç©º');
                    return;
                }

                this.currentIndex = Math.floor(Math.random() * this.songs.size());
                console.log('ğŸ”€ éšæœºæ’­æ”¾');
                this.play();
            }

            /**
             * è·å–æ’­æ”¾åˆ—è¡¨ä¿¡æ¯
             */
            getInfo() {
                let totalSongs = this.songs.size();
                let totalDuration = 0;

                this.songs.toArray().forEach(song => {
                    // ç®€å•è§£ææ—¶é•¿ "3:45" -> 225ç§’
                    let parts = song.duration.split(':');
                    totalDuration += parseInt(parts[0]) * 60 + parseInt(parts[1]);
                });

                let hours = Math.floor(totalDuration / 3600);
                let minutes = Math.floor((totalDuration % 3600) / 60);

                return {
                    totalSongs,
                    totalDuration: `${hours}:${minutes.toString().padStart(2, '0')}`
                };
            }
        }

        // æ¼”ç¤ºéŸ³ä¹æ’­æ”¾åˆ—è¡¨
        console.log('\n--- éŸ³ä¹æ’­æ”¾åˆ—è¡¨æ¼”ç¤º ---');
        let playlist = new MusicPlaylist();

        // æ·»åŠ æ­Œæ›²
        playlist.addSong({ title: 'é’èŠ±ç“·', artist: 'å‘¨æ°ä¼¦', duration: '3:58' });
        playlist.addSong({ title: 'å¤œæ›²', artist: 'å‘¨æ°ä¼¦', duration: '4:32' });
        playlist.addSong({ title: 'ç¨»é¦™', artist: 'å‘¨æ°ä¼¦', duration: '3:43' });
        playlist.addSong({ title: 'ä¸ƒé‡Œé¦™', artist: 'å‘¨æ°ä¼¦', duration: '4:15' });

        playlist.showPlaylist();

        // æ’­æ”¾æ§åˆ¶
        console.log('\næ’­æ”¾æ§åˆ¶:');
        playlist.play();
        playlist.next();
        playlist.next();
        playlist.previous();

        // æ’å…¥å’Œåˆ é™¤
        console.log('\nåˆ—è¡¨ç®¡ç†:');
        playlist.insertSong({ title: 'èŠèŠ±å°', artist: 'å‘¨æ°ä¼¦', duration: '4:58' }, 2);
        playlist.showPlaylist();

        playlist.removeSong('å¤œæ›²');
        playlist.showPlaylist();

        // æ’­æ”¾åˆ—è¡¨ä¿¡æ¯
        let info = playlist.getInfo();
        console.log(`\næ’­æ”¾åˆ—è¡¨ä¿¡æ¯: ${info.totalSongs} é¦–æ­Œæ›²ï¼Œæ€»æ—¶é•¿ ${info.totalDuration}`);

        // ==================== 4. æ€§èƒ½æµ‹è¯• ====================
        console.log('\n\n4. é“¾è¡¨æ€§èƒ½æµ‹è¯•');

        /**
         * é“¾è¡¨æ€§èƒ½æµ‹è¯•
         */
        function performanceTest() {
            console.log('\n--- é“¾è¡¨æ€§èƒ½æµ‹è¯• ---');

            let list = new LinkedList();
            let testSize = 10000;

            // æµ‹è¯•å°¾éƒ¨æ·»åŠ æ€§èƒ½
            console.log(`\næµ‹è¯• ${testSize} æ¬¡å°¾éƒ¨æ·»åŠ æ“ä½œ...`);
            let startTime = performance.now();

            for (let i = 0; i < testSize; i++) {
                list.push(i);
            }

            let endTime = performance.now();
            console.log(`å°¾éƒ¨æ·»åŠ å®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
            console.log(`é“¾è¡¨å¤§å°: ${list.size()}`);

            // æµ‹è¯•å¤´éƒ¨æ’å…¥æ€§èƒ½
            console.log(`\næµ‹è¯• ${testSize / 10} æ¬¡å¤´éƒ¨æ’å…¥æ“ä½œ...`);
            startTime = performance.now();

            for (let i = 0; i < testSize / 10; i++) {
                list.insert(-i, 0);
            }

            endTime = performance.now();
            console.log(`å¤´éƒ¨æ’å…¥å®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
            console.log(`é“¾è¡¨å¤§å°: ${list.size()}`);

            // æµ‹è¯•éšæœºè®¿é—®æ€§èƒ½
            console.log(`\næµ‹è¯• ${testSize / 100} æ¬¡éšæœºè®¿é—®æ“ä½œ...`);
            startTime = performance.now();

            for (let i = 0; i < testSize / 100; i++) {
                let randomIndex = Math.floor(Math.random() * list.size());
                list.getNodeAt(randomIndex);
            }

            endTime = performance.now();
            console.log(`éšæœºè®¿é—®å®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);

            // æµ‹è¯•æŸ¥æ‰¾æ€§èƒ½
            console.log(`\næµ‹è¯• ${testSize / 100} æ¬¡æŸ¥æ‰¾æ“ä½œ...`);
            startTime = performance.now();

            for (let i = 0; i < testSize / 100; i++) {
                let randomValue = Math.floor(Math.random() * testSize);
                list.indexOf(randomValue);
            }

            endTime = performance.now();
            console.log(`æŸ¥æ‰¾æ“ä½œå®Œæˆï¼Œè€—æ—¶: ${(endTime - startTime).toFixed(2)}ms`);
        }

        performanceTest();

        // ==================== 5. ç®—æ³•åˆ†ææ€»ç»“ ====================
        console.log('\n\n5. é“¾è¡¨ç®—æ³•åˆ†ææ€»ç»“');

        console.log('\næ—¶é—´å¤æ‚åº¦åˆ†æ:');
        console.log('- å°¾éƒ¨æ·»åŠ  push(): O(n) - éœ€è¦éå†åˆ°æœ«å°¾');
        console.log('- å¤´éƒ¨æ’å…¥ insert(0): O(1) - ç›´æ¥æ“ä½œå¤´æŒ‡é’ˆ');
        console.log('- ä»»æ„ä½ç½®æ’å…¥ insert(i): O(n) - éœ€è¦éå†åˆ°ä½ç½®i');
        console.log('- æŒ‰ç´¢å¼•åˆ é™¤ removeAt(i): O(n) - éœ€è¦éå†åˆ°ä½ç½®i');
        console.log('- æŒ‰å€¼åˆ é™¤ remove(val): O(n) - éœ€è¦æŸ¥æ‰¾+åˆ é™¤');
        console.log('- æŸ¥æ‰¾å…ƒç´  indexOf(): O(n) - å¯èƒ½éœ€è¦éå†æ•´ä¸ªé“¾è¡¨');
        console.log('- éšæœºè®¿é—® getNodeAt(i): O(n) - éœ€è¦ä»å¤´éå†');
        console.log('- è·å–å¤§å° size(): O(1) - ç»´æŠ¤è®¡æ•°å™¨');

        console.log('\nç©ºé—´å¤æ‚åº¦: O(n) - æ¯ä¸ªèŠ‚ç‚¹éœ€è¦é¢å¤–çš„æŒ‡é’ˆç©ºé—´');

        console.log('\né“¾è¡¨çš„ä¼˜åŠ¿:');
        console.log('- åŠ¨æ€å¤§å°ï¼šè¿è¡Œæ—¶å¯ä»¥åŠ¨æ€å¢é•¿å’Œç¼©å‡');
        console.log('- æ’å…¥åˆ é™¤é«˜æ•ˆï¼šåœ¨å·²çŸ¥ä½ç½®æ“ä½œæ˜¯O(1)');
        console.log('- å†…å­˜åˆ©ç”¨ï¼šä¸æµªè´¹å†…å­˜ï¼ŒæŒ‰éœ€åˆ†é…');
        console.log('- å®ç°ç®€å•ï¼šç›¸å¯¹äºåŠ¨æ€æ•°ç»„å®ç°æ›´ç®€å•');

        console.log('\né“¾è¡¨çš„åŠ£åŠ¿:');
        console.log('- éšæœºè®¿é—®æ…¢ï¼šä¸æ”¯æŒO(1)çš„éšæœºè®¿é—®');
        console.log('- é¢å¤–å†…å­˜å¼€é”€ï¼šæ¯ä¸ªèŠ‚ç‚¹éœ€è¦å­˜å‚¨æŒ‡é’ˆ');
        console.log('- ç¼“å­˜ä¸å‹å¥½ï¼šèŠ‚ç‚¹åœ¨å†…å­˜ä¸­ä¸è¿ç»­');
        console.log('- æŸ¥æ‰¾æ•ˆç‡ä½ï¼šåªèƒ½é¡ºåºæŸ¥æ‰¾');

        console.log('\né€‚ç”¨åœºæ™¯:');
        console.log('- é¢‘ç¹æ’å…¥åˆ é™¤ä¸”ä¸éœ€è¦éšæœºè®¿é—®');
        console.log('- æ•°æ®å¤§å°ä¸ç¡®å®šæˆ–å˜åŒ–å¾ˆå¤§');
        console.log('- å®ç°æ ˆã€é˜Ÿåˆ—ç­‰å…¶ä»–æ•°æ®ç»“æ„');
        console.log('- æ’¤é”€åŠŸèƒ½ã€æ’­æ”¾åˆ—è¡¨ç­‰åº”ç”¨');
        console.log('- å†…å­˜å—é™ä¸”éœ€è¦ç²¾ç¡®æ§åˆ¶å†…å­˜ä½¿ç”¨');

        console.log('\nä¸æ•°ç»„çš„æ¯”è¾ƒ:');
        console.log('- æ•°ç»„ï¼šéšæœºè®¿é—®O(1)ï¼Œæ’å…¥åˆ é™¤O(n)');
        console.log('- é“¾è¡¨ï¼šéšæœºè®¿é—®O(n)ï¼Œæ’å…¥åˆ é™¤O(1)');
        console.log('- æ•°ç»„ï¼šå†…å­˜è¿ç»­ï¼Œç¼“å­˜å‹å¥½');
        console.log('- é“¾è¡¨ï¼šå†…å­˜åˆ†æ•£ï¼Œé¢å¤–æŒ‡é’ˆå¼€é”€');
        console.log('- é€‰æ‹©ä¾æ®ï¼šæ ¹æ®æ“ä½œé¢‘ç‡å’Œæ€§èƒ½è¦æ±‚é€‰æ‹©');

        console.log('\n=== é“¾è¡¨æ•°æ®ç»“æ„æ¼”ç¤ºå®Œæ¯• ===');
    </script>
</body>
</html>